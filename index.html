<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#070A10"/>
  <title>Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ù‡ÙˆÙ„Ø¯Ù… | Ø¢Ù…ÙˆØ²Ø´ Ù¾ÙˆÚ©Ø± ØªÚ¯Ø²Ø§Ø³ Ù‡ÙˆÙ„Ø¯Ù… (Ù…ÙˆØ¨Ø§ÛŒÙ„â€ŒÙØ±Ø³Øª)</title>
  <meta name="description" content="Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ù‡ÙˆÙ„Ø¯Ù…: Ø¢Ù…ÙˆØ²Ø´ Ù…Ø±Ø­Ù„Ù‡â€ŒØ¨Ù‡â€ŒÙ…Ø±Ø­Ù„Ù‡ Ù¾ÙˆÚ©Ø± ØªÚ¯Ø²Ø§Ø³ Ù‡ÙˆÙ„Ø¯Ù… + ØªÙ…Ø±ÛŒÙ† ØªØ¹Ø§Ù…Ù„ÛŒ + Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨ Pot Odds/Outs/EV/Bet Sizing/Bankroll + ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ + ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø­Ø±ÛŒÙâ€ŒÙ‡Ø§."/>
  <style>
    :root{
      --bg0:#070A10;
      --bg1:#0B0F16;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.04);
      --line: rgba(255,255,255,.10);
      --txt:#ECF3FF;
      --muted: rgba(236,243,255,.70);
      --muted2: rgba(236,243,255,.55);

      --neon:#55D7FF;
      --ok:#3DFFB6;
      --gold:#FFD76A;
      --danger:#FF5D73;

      --r14:14px;
      --r18:18px;
      --r22:22px;

      --tap: 46px;

      --safeTop: env(safe-area-inset-top, 0px);
      --safeBot: env(safe-area-inset-bottom, 0px);
      --safeL: env(safe-area-inset-left, 0px);
      --safeR: env(safe-area-inset-right, 0px);

      color-scheme: dark;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--txt);
      background:
        radial-gradient(900px 600px at 18% 10%, rgba(85,215,255,.12), transparent 60%),
        radial-gradient(900px 600px at 85% 20%, rgba(61,255,182,.10), transparent 60%),
        radial-gradient(900px 800px at 50% 100%, rgba(255,215,106,.07), transparent 60%),
        linear-gradient(180deg,var(--bg0),var(--bg1));
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* âœ… Ú©Ù„ÛŒÚ©/ØªØ§Ú†: Ù‡ÛŒÚ† Ú†ÛŒØ² Ø­Ù‚ Ù†Ø¯Ø§Ø±Ù‡ Ú©Ù„ÛŒÚ© Ø±Ùˆ Ø¨Ø¯Ø²Ø¯Ù‡ */
    *{ -webkit-tap-highlight-color: transparent; }
    .fx, .scan, .glow{ pointer-events:none !important; } /* Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ ØªØ²Ø¦ÛŒÙ†ÛŒ */

    a,button,.btn,.chip,.tab,.navBtn,.pill,.listBtn,.cell,.choice{
      touch-action: manipulation;
      pointer-events:auto;
    }

    .wrap{
      max-width: 1040px;
      margin: 0 auto;
      padding: calc(12px + var(--safeTop)) calc(12px + var(--safeR)) calc(92px + var(--safeBot)) calc(12px + var(--safeL));
    }

    /* Topbar */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      padding-top: var(--safeTop);
      margin: 0 calc(-12px - var(--safeR)) 12px calc(-12px - var(--safeL));
      padding-left: calc(12px + var(--safeL));
      padding-right: calc(12px + var(--safeR));
      padding-bottom: 10px;
      background: rgba(7,10,16,.78);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .topRow{
      display:flex; align-items:center; gap:10px;
      padding: 10px 0 8px;
    }

    .logo{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(120% 120% at 30% 30%, rgba(85,215,255,.20), rgba(61,255,182,.12)),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset;
      font-size: 18px;
      user-select:none;
    }

    .brand{flex:1;min-width:0}
    .brand h1{
      margin:0;
      font-size: 15px;
      font-weight: 900;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brand p{
      margin:4px 0 0;
      font-size:12px;
      color:var(--muted);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    .pill{
      display:flex; align-items:center; gap:8px;
      padding: 10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      user-select:none;
      box-shadow: 0 12px 40px rgba(0,0,0,.25);
      font-size:12px;
      font-weight:900;
      color: rgba(236,243,255,.86);
      white-space:nowrap;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--ok);
      box-shadow: 0 0 0 4px rgba(61,255,182,.12), 0 0 24px rgba(61,255,182,.22);
    }

    .searchRow{
      display:flex; align-items:center; gap:10px;
    }
    .iconBtn{
      height: var(--tap);
      min-width: var(--tap);
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--txt);
      cursor:pointer;
      display:grid;place-items:center;
      font-weight: 900;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
    }
    .iconBtn:active{transform:scale(.98)}

    .search{
      flex:1;
      height: var(--tap);
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      display:flex; align-items:center; gap:10px;
      padding: 0 12px;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
    }
    .search input{
      flex:1;
      background:transparent;
      border:0;
      outline:none;
      color:var(--txt);
      font-size: 14px;
    }
    .search input::placeholder{ color: rgba(236,243,255,.45); }

    /* Cards */
    .card{
      border-radius: var(--r22);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.035));
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      overflow:hidden;
    }
    .pad{ padding: 14px; }

    .grid{ display:grid; gap:10px; }

    .progressTop{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .progressTop b{ font-size: 14px; }
    .chips{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end}
    .chip{
      padding:7px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      font-size:12px;
      color: var(--muted);
      user-select:none;
      white-space:nowrap;
    }
    .chip strong{color:var(--txt)}
    .bar{
      height:10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      overflow:hidden;
      margin-top:10px;
    }
    .bar i{
      display:block; height:100%; width:0%;
      background: linear-gradient(90deg, rgba(85,215,255,.95), rgba(61,255,182,.95));
      box-shadow: 0 0 22px rgba(85,215,255,.22);
      transition: width .28s ease;
    }

    .listBtn{
      width:100%;
      border:0;
      background: transparent;
      color: var(--txt);
      padding: 14px 14px;
      display:flex; align-items:center; gap:12px;
      cursor:pointer;
      text-align:right;
    }
    .listBtn:active{transform:scale(.995)}
    .badge{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
      flex:0 0 auto;
      user-select:none;
    }
    .meta{flex:1;min-width:0}
    .meta .t{
      margin:0;
      font-weight: 900;
      font-size: 14px;
      display:flex; align-items:center; gap:8px;
    }
    .meta .d{
      margin:5px 0 0;
      color: var(--muted);
      font-size: 12px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .status{
      padding: 6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      font-size: 12px;
      color: var(--muted2);
      white-space:nowrap;
    }
    .status.ok{color:rgba(61,255,182,.95);border-color:rgba(61,255,182,.22);background:rgba(61,255,182,.08)}
    .status.todo{color:rgba(255,215,106,.95);border-color:rgba(255,215,106,.22);background:rgba(255,215,106,.08)}

    .divider{height:1px;background:rgba(255,255,255,.08)}

    .detail{
      border-top: 1px solid rgba(255,255,255,.08);
      display:none;
    }
    .detail.show{display:block}
    .detail .pad{padding-top:12px}

    h2,h3{margin:0 0 8px}
    h2{font-size: 16px; font-weight: 900}
    h3{font-size: 14px; font-weight: 900}
    p{margin:0; color: rgba(236,243,255,.78); font-size: 13px; line-height: 1.9}
    ul{margin:8px 0 0; padding:0 18px 0 0; color: rgba(236,243,255,.82); font-size:13px; line-height: 1.95}
    li{margin: 2px 0}

    .note{
      margin-top: 10px;
      padding: 12px;
      border-radius: 16px;
      border:1px dashed rgba(85,215,255,.28);
      background: rgba(85,215,255,.06);
      color: rgba(236,243,255,.86);
      font-size: 13px;
      line-height: 1.85;
    }
    .note.ok{border-color:rgba(61,255,182,.26);background:rgba(61,255,182,.06)}
    .note.warn{border-color:rgba(255,93,115,.30);background:rgba(255,93,115,.06)}

    .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px}
    .btn{
      height: var(--tap);
      padding: 0 14px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--txt);
      font-weight: 900;
      cursor:pointer;
    }
    .btn.primary{border-color:rgba(85,215,255,.28);background:rgba(85,215,255,.10)}
    .btn.good{border-color:rgba(61,255,182,.26);background:rgba(61,255,182,.10)}
    .btn.danger{border-color:rgba(255,93,115,.28);background:rgba(255,93,115,.09)}
    .btn:active{transform:scale(.99)}

    /* Forms */
    label{display:block; font-size:12px; color: rgba(236,243,255,.70); margin-bottom:6px}
    input,select,textarea{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
      color: var(--txt);
      outline:none;
      font-size: 16px; /* âœ… iOS zoom fix */
    }
    textarea{min-height: 110px; resize: vertical}
    .form2{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px}
    @media (max-width:520px){ .form2{grid-template-columns:1fr} }

    .result{
      margin-top: 10px;
      padding: 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      color: rgba(236,243,255,.88);
      font-size: 13px;
      line-height: 1.9;
      white-space: pre-wrap;
    }

    /* Bottom Tabs */
    .bottomNav{
      position: fixed;
      left:0; right:0;
      bottom:0;
      z-index: 60;
      padding: 10px calc(12px + var(--safeR)) calc(10px + var(--safeBot)) calc(12px + var(--safeL));
      background: rgba(7,10,16,.82);
      backdrop-filter: blur(14px);
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .tabs{display:flex; gap:10px}
    .tab{
      flex:1;
      height: 46px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color: var(--txt);
      display:flex; align-items:center; justify-content:center; gap:8px;
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
    }
    .tab.on{
      border-color: rgba(61,255,182,.28);
      background: rgba(61,255,182,.10);
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: calc(86px + var(--safeBot));
      transform: translateX(-50%) translateY(10px);
      z-index: 80;
      padding: 12px 14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.60);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      color: rgba(236,243,255,.92);
      font-weight: 900;
      font-size: 12px;
      opacity: 0;
      pointer-events: none;
      transition: .22s ease;
      max-width: min(520px, 92vw);
      text-align:center;
    }
    .toast.show{opacity:1; transform:translateX(-50%) translateY(0)}

    mark{
      background: rgba(255,215,106,.18);
      color: rgba(236,243,255,.95);
      border:1px solid rgba(255,215,106,.22);
      padding: 0 4px;
      border-radius: 8px;
    }

    /* Desktop enhancement */
    @media (min-width: 920px){
      .wrap{padding-bottom: 22px}
      .bottomNav{display:none}
      .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="wrap" style="padding-bottom:0">
      <div class="topRow">
        <div class="logo">â™ ï¸</div>
        <div class="brand">
          <h1>Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ù‡ÙˆÙ„Ø¯Ù… â€” Ù†Ø³Ø®Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„â€ŒÙØ±Ø³Øª</h1>
          <p>Ø¢Ù…ÙˆØ²Ø´ + ØªÙ…Ø±ÛŒÙ† + Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨â€ŒÙ‡Ø§ + Ø°Ø®ÛŒØ±Ù‡ Ù¾ÛŒØ´Ø±ÙØª âœ…</p>
        </div>
        <div class="pill" title="Ø°Ø®ÛŒØ±Ù‡ Ø±ÙˆØ´Ù† Ø§Ø³Øª">
          <span class="dot"></span>
          <span id="saveText">Ø°Ø®ÛŒØ±Ù‡: ÙØ¹Ø§Ù„</span>
        </div>
      </div>

      <div class="searchRow">
        <button class="iconBtn" id="resetBtn" type="button" title="Ø±ÛŒØ³Øª Ù¾ÛŒØ´Ø±ÙØª">â†º</button>
        <div class="search">
          <span style="opacity:.8">ğŸ”</span>
          <input id="q" type="search" inputmode="search" placeholder="Ø¬Ø³ØªØ¬Ùˆâ€¦ Ù…Ø«Ù„Ø§: Ù¾ÙˆØ²ÛŒØ´Ù†ØŒ 3Ø¨ØªØŒ ØªÛŒÙ„ØªØŒ EV" />
        </div>
        <button class="iconBtn" id="helpBtn" type="button" title="Ø±Ø§Ù‡Ù†Ù…Ø§">?</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">

      <!-- Progress -->
      <section class="card">
        <div class="pad">
          <div class="progressTop">
            <b>Ù¾ÛŒØ´Ø±ÙØª ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</b>
            <div class="chips">
              <span class="chip"><strong id="doneCount">0</strong> ØªÛŒÚ© Ø®ÙˆØ±Ø¯Ù‡</span>
              <span class="chip"><strong id="totalCount">0</strong> Ú©Ù„</span>
              <span class="chip"><strong id="pct">0%</strong></span>
            </div>
          </div>
          <div class="bar"><i id="bar"></i></div>
          <div class="actions">
            <button class="btn good" id="markBtn" type="button">âœ… Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…</button>
            <button class="btn danger" id="resetAllBtn" type="button">Ø±ÛŒØ³Øª Ú©Ø§Ù…Ù„</button>
          </div>
          <div class="note ok">Ù†Ú©ØªÙ‡: Ù¾ÛŒØ´Ø±ÙØª Ùˆ ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§ ØªÙˆÛŒ Ù…Ø±ÙˆØ±Ú¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´Ù† (LocalStorage) âœ…</div>
        </div>
      </section>

      <!-- Sections list -->
      <section class="card" id="sectionsCard">
        <button class="listBtn" type="button" data-open="roadmap">
          <span class="badge">ğŸ</span>
          <span class="meta">
            <span class="t">Ø´Ø±ÙˆØ¹ Ùˆ Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡ <span class="status todo" data-status="roadmap">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ùˆ Ø¯Ø±Ø³Øª Ø¨Ø¨Ù†Ø¯ÛŒØŒ Ù†ØµÙ Ø¨Ø±Ø¯Ù‡</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="basics">
          <span class="badge">ğŸ“Œ</span>
          <span class="meta">
            <span class="t">Ù…Ø¨Ø§Ù†ÛŒ Ùˆ Ù‚ÙˆØ§Ù†ÛŒÙ† <span class="status todo" data-status="basics">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø±ØªØ¨Ù‡ Ø¯Ø³Øªâ€ŒÙ‡Ø§ØŒ Ù…Ø±Ø§Ø­Ù„ØŒ Ù¾ÙˆØ²ÛŒØ´Ù†</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="preflop">
          <span class="badge">ğŸ§ </span>
          <span class="meta">
            <span class="t">Ù¾Ø±ÛŒÙÙ„Ø§Ù¾ <span class="status todo" data-status="preflop">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø±Ù†Ø¬ØŒ 3Ø¨ØªØŒ Ø³Ø§ÛŒØ²Ù‡Ø§ØŒ Ù„ÛŒÚ©â€ŒÙ‡Ø§</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="postflop">
          <span class="badge">ğŸ¯</span>
          <span class="meta">
            <span class="t">Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾ <span class="status todo" data-status="postflop">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Value/BluffØŒ C-betØŒ Ù¾Ù„Ù†</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="math">
          <span class="badge">ğŸ§®</span>
          <span class="meta">
            <span class="t">Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨â€ŒÙ‡Ø§ <span class="status todo" data-status="math">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Pot Odds / Outs / EV / Bet / Bankroll</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="trainer">
          <span class="badge">ğŸ®</span>
          <span class="meta">
            <span class="t">ØªÙ…Ø±ÛŒÙ† ØªØ¹Ø§Ù…Ù„ÛŒ <span class="status todo" data-status="trainer">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø³Ù†Ø§Ø±ÛŒÙˆ + Ø§Ù†ØªØ®Ø§Ø¨ + ØªØ­Ù„ÛŒÙ„</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="notes">
          <span class="badge">ğŸ“</span>
          <span class="meta">
            <span class="t">ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø­Ø±ÛŒÙâ€ŒÙ‡Ø§ <span class="status todo" data-status="notes">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">ØªÛŒÙ¾â€ŒÙ‡Ø§ + Ù„ÛŒÚ©â€ŒÙ‡Ø§ + Ø³Ø±Ú†</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-open="glossary">
          <span class="badge">ğŸ“š</span>
          <span class="meta">
            <span class="t">ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ <span class="status todo" data-status="glossary">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ù…Ù‡Ù… Ùˆ Ù…Ø¹Ù†ÛŒ Ø³Ø§Ø¯Ù‡</span>
          </span>
        </button>

        <!-- Detail panel -->
        <div class="detail" id="detail">
          <div class="pad" id="detailBody"></div>
        </div>
      </section>

    </div>
  </main>

  <!-- Bottom quick tabs -->
  <footer class="bottomNav">
    <div class="tabs">
      <button class="tab on" type="button" data-tab="learn">ğŸ“– ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</button>
      <button class="tab" type="button" data-tab="math">ğŸ§® Ø­Ø³Ø§Ø¨</button>
      <button class="tab" type="button" data-tab="trainer">ğŸ® ØªÙ…Ø±ÛŒÙ†</button>
    </div>
  </footer>

  <div class="toast" id="toast"></div>

  <script>
    /********************
     * Core Utilities
     ********************/
    const $ = (s, el=document)=>el.querySelector(s);
    const $$ = (s, el=document)=>[...el.querySelectorAll(s)];
    const LS = {
      prog: "holdem_mobile_prog_v1",
      notes: "holdem_mobile_notes_v1"
    };

    function toast(msg){
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(toast._tm);
      toast._tm = setTimeout(()=>t.classList.remove("show"), 1900);
    }

    function load(key, fallback){
      try{
        const v = localStorage.getItem(key);
        return v ? JSON.parse(v) : fallback;
      }catch(e){ return fallback; }
    }
    function save(key, obj){
      localStorage.setItem(key, JSON.stringify(obj));
    }

    /********************
     * Sections Content
     ********************/
    const sections = [
      {id:"roadmap", title:"Ø´Ø±ÙˆØ¹ Ùˆ Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡ ğŸ", icon:"ğŸ"},
      {id:"basics", title:"Ù…Ø¨Ø§Ù†ÛŒ Ùˆ Ù‚ÙˆØ§Ù†ÛŒÙ† ğŸ“Œ", icon:"ğŸ“Œ"},
      {id:"preflop", title:"Ù¾Ø±ÛŒÙÙ„Ø§Ù¾ ğŸ§ ", icon:"ğŸ§ "},
      {id:"postflop", title:"Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾ ğŸ¯", icon:"ğŸ¯"},
      {id:"math", title:"Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨â€ŒÙ‡Ø§ ğŸ§®", icon:"ğŸ§®"},
      {id:"trainer", title:"ØªÙ…Ø±ÛŒÙ† ØªØ¹Ø§Ù…Ù„ÛŒ ğŸ®", icon:"ğŸ®"},
      {id:"notes", title:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø­Ø±ÛŒÙâ€ŒÙ‡Ø§ ğŸ“", icon:"ğŸ“"},
      {id:"glossary", title:"ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ ğŸ“š", icon:"ğŸ“š"},
    ];

    const content = {
      roadmap: `
        <h2>Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ (Û³Û° Ø±ÙˆØ²Ù‡)</h2>
        <p>Ù‡Ø¯Ù ÙÙ‚Ø· Ø­ÙØ¸ Ù‚ÙˆØ§Ù†ÛŒÙ† Ù†ÛŒØ³ØªØ› Ù‡Ø¯Ù Ø§ÛŒÙ†Ù‡ ØªØµÙ…ÛŒÙ… Ø¯Ø±Ø³Øª Ø¨Ø³Ø§Ø²ÛŒ: <b>Ù¾ÙˆØ²ÛŒØ´Ù† + Ø±Ù†Ø¬ + Ù¾Ù„Ù†</b>.</p>
        <ul>
          <li><b>Ù‡ÙØªÙ‡ Û±:</b> Ù‚ÙˆØ§Ù†ÛŒÙ†ØŒ Ø±ØªØ¨Ù‡ Ø¯Ø³Øªâ€ŒÙ‡Ø§ØŒ Ù¾ÙˆØ²ÛŒØ´Ù†ØŒ Pot Odds Ùˆ Outs</li>
          <li><b>Ù‡ÙØªÙ‡ Û²:</b> Ù¾Ø±ÛŒÙÙ„Ø§Ù¾: Open/Call/3Bet + Ø³Ø§ÛŒØ²Ù‡Ø§ + Ù„ÛŒÚ©â€ŒÙ‡Ø§</li>
          <li><b>Ù‡ÙØªÙ‡ Û³:</b> Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾: C-betØŒ ValueØŒ Bluff Ø¯Ø§Ø³ØªØ§Ù†â€ŒØ¯Ø§Ø±</li>
          <li><b>Ù‡ÙØªÙ‡ Û´:</b> ØªÙ…Ø±ÛŒÙ† Ø³Ù†Ø§Ø±ÛŒÙˆÛŒÛŒ + Ù…Ø±ÙˆØ± Ø¯Ø³Øªâ€ŒÙ‡Ø§ + Ø°Ù‡Ù† Ùˆ Ø³Ø±Ù…Ø§ÛŒÙ‡</li>
        </ul>
        <div class="note ok"><b>Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù‚Ø¨Ù„ Ù‡Ø± Ø­Ø±Ú©Øª:</b> IP/OOPØŸ Ù‡Ø¯Ù Ø­Ø±Ú©ØªØŸ Ø­Ø±ÛŒÙ Ú†ÛŒ Ú©Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ Ø§Ú¯Ø± Ú©Ø§Ù„ Ø´Ø¯ÛŒ Ù¾Ù„Ù† ØªØ±Ù†/Ø±ÛŒÙˆØ±ØŸ</div>
        <div class="actions">
          <button class="btn primary" type="button" data-jump="basics">Ø±ÙØªÙ† Ø¨Ù‡ Ù…Ø¨Ø§Ù†ÛŒ</button>
          <button class="btn" type="button" data-jump="trainer">ØªÙ…Ø±ÛŒÙ† Ø³Ø±ÛŒØ¹</button>
        </div>
      `,
      basics: `
        <h2>Ù…Ø¨Ø§Ù†ÛŒ Ùˆ Ù‚ÙˆØ§Ù†ÛŒÙ†</h2>
        <ul>
          <li>Û² Ú©Ø§Ø±Øª Ù…Ø®ÙÛŒ + Ûµ Ú©Ø§Ø±Øª Ù…Ø´ØªØ±Ú© = Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯Ø³Øª Ûµ Ú©Ø§Ø±ØªÛŒ</li>
          <li>Ù…Ø±Ø§Ø­Ù„: Preflop â†’ Flop â†’ Turn â†’ River</li>
          <li>Ø­Ø±Ú©Øªâ€ŒÙ‡Ø§: Check / Bet / Call / Raise / Fold</li>
        </ul>
        <h3>Ø±ØªØ¨Ù‡ Ø¯Ø³Øªâ€ŒÙ‡Ø§ (Ù‚ÙˆÛŒ â†’ Ø¶Ø¹ÛŒÙ)</h3>
        <ul>
          <li>Royal Flush / Straight Flush</li>
          <li>Four of a Kind / Full House</li>
          <li>Flush / Straight</li>
          <li>Three / Two Pair / One Pair / High Card</li>
        </ul>
        <div class="note warn">ğŸš« Ø§Ø´ØªØ¨Ø§Ù‡ Ø±Ø§ÛŒØ¬: ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒ â€œØªØ§Ù¾â€ŒÙ¾ÛŒØ± Ù‡Ù…ÛŒØ´Ù‡ Ø®ÙˆØ¨Ù‡â€. Ù†Ù‡! Ú©ÛŒÚ©Ø± + Ø¨Ø±Ø¯ + Ø§Ú©Ø´Ù† Ø­Ø±ÛŒÙ Ù…Ù‡Ù…Ù‡.</div>
      `,
      preflop: `
        <h2>Ù¾Ø±ÛŒÙÙ„Ø§Ù¾</h2>
        <ul>
          <li><b>Ù„ÛŒÙ…Ù¾ Ú©Ù…ØªØ±</b>Ø› Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯: Raise ÛŒØ§ Fold</li>
          <li>Ø¯Ø± Ù¾ÙˆØ²ÛŒØ´Ù† (BTN/CO) Ø¢Ø²Ø§Ø¯ØªØ±Ø› UTG ØªÙ†Ú¯â€ŒØªØ±</li>
          <li>Call Ø²ÛŒØ§Ø¯ Ù…Ø®ØµÙˆØµØ§Ù‹ OOP = Ù„ÛŒÚ© Ù¾ÙˆÙ„</li>
        </ul>
        <h3>Ø³Ø§ÛŒØ²Ù‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡</h3>
        <ul>
          <li>Open: Ø­Ø¯ÙˆØ¯ 2x ØªØ§ 3x</li>
          <li>3Bet: Ø­Ø¯ÙˆØ¯ 3x Ø±ÛŒØ² Ø­Ø±ÛŒÙ (OOP Ú©Ù…ÛŒ Ø¨ÛŒØ´ØªØ±)</li>
        </ul>
        <div class="note ok">âœ… Ø°Ù‡Ù†ÛŒØª Ù¾Ø±Ùˆ: Ø¨Ù‡ Ø¬Ø§ÛŒ â€œØ¯Ø³Øªâ€ØŒ Ø¨Ø§ <b>Ø±Ù†Ø¬</b> ØªØµÙ…ÛŒÙ… Ø¨Ú¯ÛŒØ±.</div>
      `,
      postflop: `
        <h2>Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾</h2>
        <ul>
          <li>Ù‚Ø¨Ù„ Ù‡Ø± Bet: Value ÛŒØ§ BluffØŸ Ø§Ú¯Ø± Ú©Ø§Ù„ Ø´Ø¯ÛŒ Ù¾Ù„Ù† Ú†ÛŒÙ‡ØŸ</li>
          <li>Ø¨Ø±Ø¯ Ø®Ø´Ú©: Bet Ú©ÙˆÚ†Ú© Ø¬ÙˆØ§Ø¨ Ù…ÛŒâ€ŒØ¯Ù‡</li>
          <li>Ø¨Ø±Ø¯ Ø®ÛŒØ³: Ù‡Ø¯ÙÙ…Ù†Ø¯ØªØ± Ùˆ Ù…Ø­ØªØ§Ø·â€ŒØªØ±</li>
          <li>Multiway: Ø¨Ù„ÙˆÙ Ø³Ø®Øªâ€ŒØªØ±</li>
        </ul>
        <div class="note warn">ğŸš« Ø¨Ù„ÙˆÙ Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø³ØªØ§Ù† = Ù¾ÙˆÙ„â€ŒØ³ÙˆØ²ÛŒ. Ø±ÛŒÙˆØ± Ù‚Ù‡Ø±Ù…Ø§Ù†â€ŒØ¨Ø§Ø²ÛŒ Ù†Ú©Ù† ğŸ˜…</div>
      `,
      math: `
        <h2>Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨â€ŒÙ‡Ø§</h2>
        <div class="grid2">
          <div class="card"><div class="pad">
            <h3>Pot Odds</h3>
            <div class="form2">
              <div><label>Ù¾Ø§Øª ÙØ¹Ù„ÛŒ</label><input id="potNow" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 10"></div>
              <div><label>Ù…Ø¨Ù„Øº Ú©Ø§Ù„</label><input id="callAmt" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 6"></div>
            </div>
            <div class="form2">
              <div><label>Equity Ø´Ù…Ø§ (%)</label><input id="eqPct" type="number" step="0.1" placeholder="Ù…Ø«Ù„Ø§Ù‹ 35"></div>
              <div><label>Implied (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label><input id="impl" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 4"></div>
            </div>
            <div class="actions">
              <button class="btn primary" type="button" id="potCalc">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
              <button class="btn" type="button" id="potDemo">Ù†Ù…ÙˆÙ†Ù‡</button>
            </div>
            <div class="result" id="potRes">Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§â€¦</div>
          </div></div>

          <div class="card"><div class="pad">
            <h3>Outs (Rule of 2&4)</h3>
            <div class="form2">
              <div><label>Outs</label><input id="outs" type="number" step="1" placeholder="Ù…Ø«Ù„Ø§Ù‹ 9"></div>
              <div><label>Ù…Ø±Ø­Ù„Ù‡</label>
                <select id="street">
                  <option value="flop">Ø¨Ø¹Ø¯ ÙÙ„Ø§Ù¾ (Û² Ú©Ø§Ø±Øª Ù…Ø§Ù†Ø¯Ù‡)</option>
                  <option value="turn">Ø¨Ø¹Ø¯ ØªØ±Ù† (Û± Ú©Ø§Ø±Øª Ù…Ø§Ù†Ø¯Ù‡)</option>
                </select>
              </div>
            </div>
            <div class="actions">
              <button class="btn primary" type="button" id="outsCalc">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
              <button class="btn" type="button" id="outsDemo">Ù†Ù…ÙˆÙ†Ù‡</button>
            </div>
            <div class="result" id="outsRes">Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§â€¦</div>
          </div></div>

          <div class="card"><div class="pad">
            <h3>EV Ú©Ø§Ù„</h3>
            <p>EV = EqÃ—(Pot+Call) âˆ’ (1âˆ’Eq)Ã—Call</p>
            <div class="form2">
              <div><label>Ù¾Ø§Øª</label><input id="evPot" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 12"></div>
              <div><label>Ú©Ø§Ù„</label><input id="evCall" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 8"></div>
            </div>
            <div class="form2">
              <div><label>Equity (%)</label><input id="evEq" type="number" step="0.1" placeholder="Ù…Ø«Ù„Ø§Ù‹ 38"></div>
              <div><label>Ù‡Ø²ÛŒÙ†Ù‡/Rake (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label><input id="evRake" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 0.5"></div>
            </div>
            <div class="actions">
              <button class="btn primary" type="button" id="evCalc">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
              <button class="btn" type="button" id="evDemo">Ù†Ù…ÙˆÙ†Ù‡</button>
            </div>
            <div class="result" id="evRes">Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§â€¦</div>
          </div></div>

          <div class="card"><div class="pad">
            <h3>Bet Sizing</h3>
            <div class="form2">
              <div><label>Ù¾Ø§Øª</label><input id="potSize" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 24"></div>
              <div><label>Ù‡Ø¯Ù</label>
                <select id="goal">
                  <option value="dry">C-bet Ø±ÙˆÛŒ Ø¨Ø±Ø¯ Ø®Ø´Ú©</option>
                  <option value="value">Value/Protection</option>
                  <option value="polar">Polar (Ø³Ø§ÛŒØ² Ø¨Ø²Ø±Ú¯)</option>
                </select>
              </div>
            </div>
            <div class="actions">
              <button class="btn primary" type="button" id="betCalc">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯</button>
              <button class="btn" type="button" id="betDemo">Ù†Ù…ÙˆÙ†Ù‡</button>
            </div>
            <div class="result" id="betRes">Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§â€¦</div>
          </div></div>

          <div class="card"><div class="pad">
            <h3>Bankroll</h3>
            <div class="form2">
              <div><label>Ø³Ø±Ù…Ø§ÛŒÙ‡</label><input id="br" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 600"></div>
              <div><label>Ù†ÙˆØ¹</label>
                <select id="type">
                  <option value="cash">Cash</option>
                  <option value="mtt">MTT</option>
                  <option value="sng">Sit&Go</option>
                </select>
              </div>
            </div>
            <div class="form2">
              <div><label>Ø±ÛŒØ³Ú©</label>
                <select id="risk">
                  <option value="safe">Ø§ÛŒÙ…Ù†</option>
                  <option value="normal">Ù…Ø¹Ù…ÙˆÙ„ÛŒ</option>
                  <option value="agg">ØªÙ‡Ø§Ø¬Ù…ÛŒ</option>
                </select>
              </div>
              <div><label>Buy-in Ù‡Ø¯Ù (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label><input id="bi" type="number" step="0.01" placeholder="Ù…Ø«Ù„Ø§Ù‹ 10"></div>
            </div>
            <div class="actions">
              <button class="btn primary" type="button" id="brCalc">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
              <button class="btn" type="button" id="brDemo">Ù†Ù…ÙˆÙ†Ù‡</button>
            </div>
            <div class="result" id="brRes">Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§â€¦</div>
          </div></div>
        </div>
      `,
      trainer: `
        <h2>ØªÙ…Ø±ÛŒÙ† ØªØ¹Ø§Ù…Ù„ÛŒ</h2>
        <p>Ø³Ù†Ø§Ø±ÛŒÙˆ Ù…ÛŒØ§Ø¯ØŒ ØªÙˆ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŒ Ø¨Ø¹Ø¯ ØªØ­Ù„ÛŒÙ„ Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ. ğŸ‘‡</p>
        <div class="note ok">âœ… Ù‚Ø§Ù†ÙˆÙ†: Ø§ÙˆÙ„ ØªØµÙ…ÛŒÙ…ØŒ Ø¨Ø¹Ø¯ Ø¯Ù„ÛŒÙ„ (Ù¾ÙˆØ²ÛŒØ´Ù†/Ø±Ù†Ø¬/ØªÛŒÙ¾ Ø­Ø±ÛŒÙ/Ù¾Ù„Ù†).</div>
        <div class="card"><div class="pad">
          <h3>Ø³Ù†Ø§Ø±ÛŒÙˆ</h3>
          <div class="result" id="scText">Ø±ÙˆÛŒ â€œØ³Ù†Ø§Ø±ÛŒÙˆÛŒ Ø¬Ø¯ÛŒØ¯â€ Ø¨Ø²Ù† ğŸ˜ˆ</div>
          <div class="actions" id="scChoices"></div>
          <div class="actions">
            <button class="btn primary" type="button" id="scNew">Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ Ø¬Ø¯ÛŒØ¯</button>
            <button class="btn" type="button" id="scAns">Ù¾Ø§Ø³Ø® Ùˆ ØªØ­Ù„ÛŒÙ„</button>
          </div>
          <div class="result" id="scExplain">â€”</div>
        </div></div>
      `,
      notes: `
        <h2>ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø­Ø±ÛŒÙâ€ŒÙ‡Ø§</h2>
        <div class="grid2">
          <div class="card"><div class="pad">
            <h3>Ø«Ø¨Øª</h3>
            <div class="form2">
              <div><label>Ù†Ø§Ù…/Ù„Ù‚Ø¨</label><input id="nName" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø¹Ù„ÛŒ - Ú©Ø§Ù„Ø±"></div>
              <div><label>ØªÛŒÙ¾</label>
                <select id="nTag">
                  <option>Calling Station</option>
                  <option>Nit</option>
                  <option>TAG</option>
                  <option>LAG</option>
                  <option>Maniac</option>
                  <option>Tricky</option>
                </select>
              </div>
            </div>
            <div class="form2">
              <div><label>Ù„ÛŒÚ© Ø§ØµÙ„ÛŒ</label><input id="nLeak" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø²ÛŒØ§Ø¯ Ú©Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù‡"></div>
              <div><label>Ø±ÛŒÚˆ/Ø±ÙØªØ§Ø±</label><input id="nRead" placeholder="Ù…Ø«Ù„Ø§Ù‹: ÙˆÙ‚ØªÛŒ Ù‚ÙˆÛŒÙ‡ Ø³Ø±ÛŒØ¹ Ø´Ø±Ø· Ø¨Ø²Ø±Ú¯ Ù…ÛŒâ€ŒØ²Ù†Ù‡"></div>
            </div>
            <div>
              <label>ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ú©Ø§Ù…Ù„</label>
              <textarea id="nText" placeholder="Ø¬Ø²Ø¦ÛŒØ§Øªâ€¦"></textarea>
            </div>
            <div class="actions">
              <button class="btn primary" type="button" id="nSave">Ø°Ø®ÛŒØ±Ù‡</button>
              <button class="btn danger" type="button" id="nClear">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡</button>
            </div>
            <div class="note">âœ… ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§ Ø±ÙˆÛŒ Ù‡Ù…ÛŒÙ† Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù†.</div>
          </div></div>

          <div class="card"><div class="pad">
            <h3>Ù„ÛŒØ³Øª</h3>
            <div class="form2">
              <div style="grid-column:1/-1">
                <label>Ø¬Ø³ØªØ¬Ùˆ</label>
                <input id="nSearch" placeholder="Ù…Ø«Ù„Ø§Ù‹ Calling Station ÛŒØ§ Ø¹Ù„ÛŒ">
              </div>
            </div>
            <div class="actions">
              <button class="btn" type="button" id="nRefresh">Ù†Ù…Ø§ÛŒØ´</button>
            </div>
            <div class="result" id="nList">Ù‡Ù†ÙˆØ² Ú†ÛŒØ²ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡â€¦</div>
          </div></div>
        </div>
      `,
      glossary: `
        <h2>ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡</h2>
        <ul>
          <li><b>Range</b>: Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¯Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù…Ú©Ù† Ø­Ø±ÛŒÙ</li>
          <li><b>IP/OOP</b>: Ø¯Ø§Ø®Ù„/Ø¨ÛŒØ±ÙˆÙ† Ù¾ÙˆØ²ÛŒØ´Ù†</li>
          <li><b>C-bet</b>: Ø´Ø±Ø· Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² Ø±ÛŒØ² Ù¾Ø±ÛŒÙÙ„Ø§Ù¾</li>
          <li><b>Value</b>: Ø´Ø±Ø· Ø¨Ø±Ø§ÛŒ Ù¾ÙˆÙ„ Ú¯Ø±ÙØªÙ† Ø§Ø² Ø¨Ø¯ØªØ±Ù‡Ø§</li>
          <li><b>Bluff</b>: Ø´Ø±Ø· Ø¨Ø±Ø§ÛŒ ÙÙˆÙ„Ø¯ Ú¯Ø±ÙØªÙ†</li>
          <li><b>Equity</b>: Ø³Ù‡Ù… Ø´Ø§Ù†Ø³ Ø¨Ø±Ø¯</li>
          <li><b>Pot Odds</b>: Ù†Ø³Ø¨Øª Ú©Ø§Ù„ Ø¨Ù‡ Ù¾Ø§Øª</li>
          <li><b>Outs</b>: Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯Ø¯Ù‡Ù†Ø¯Ù‡</li>
          <li><b>Blocker</b>: Ú©Ø§Ø±Øª Ø¨Ø§Ø²Ø¯Ø§Ø±Ù†Ø¯Ù‡ (Ø¨Ø±Ø§ÛŒ Ø¨Ù„ÙˆÙ Ø¨Ù‡ØªØ±)</li>
          <li><b>Fold Equity</b>: Ø´Ø§Ù†Ø³ ÙÙˆÙ„Ø¯ Ø¯Ø§Ø¯Ù† Ø­Ø±ÛŒÙ</li>
        </ul>
        <div class="note ok">âœ… ÙˆÙ‚ØªÛŒ Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ùˆ Ø±ÙˆØ§Ù† Ø¨Ø´ÛŒØŒ Ù†ØµÙ Ù¾ÙˆÚ©Ø± Ø±Ùˆ Ø¨Ø±Ø¯ÛŒ.</div>
      `
    };

    /********************
     * Detail rendering
     ********************/
    let current = "roadmap";
    const detail = $("#detail");
    const detailBody = $("#detailBody");

    function openSection(id){
      current = id;
      detailBody.innerHTML = content[id] || "<p>Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¯Ø± Ø­Ø§Ù„ ØªÚ©Ù…ÛŒÙ„ Ø§Ø³Øªâ€¦</p>";
      detail.classList.add("show");
      toast("Ø¨Ø§Ø² Ø´Ø¯ âœ…");
      bindInnerActions();
      updateMarkButton();
      runSearch(); // keep highlights consistent
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function bindInnerActions(){
      $$("[data-jump]").forEach(b=>{
        b.addEventListener("click", ()=>openSection(b.dataset.jump));
      });
      // calculators bindings if math opened
      if(current==="math"){
        const num = v => Number(v||0);
        const pct = v => num(v)/100;
        const fmt = n => (Math.round(n*100)/100).toLocaleString("en-US");

        $("#potCalc").onclick = ()=>{
          const pot = num($("#potNow").value);
          const call = num($("#callAmt").value);
          const eq = pct($("#eqPct").value);
          const impl = num($("#impl").value);
          const req = (call/(pot+call))*100;
          const req2 = (call/(pot+call+impl))*100;
          const ok1 = (eq*100)>=req;
          const ok2 = (eq*100)>=req2;
          $("#potRes").textContent =
`Pot Odds (Ø¨Ø¯ÙˆÙ† implied): Equity Ù„Ø§Ø²Ù… â‰ˆ ${req.toFixed(1)}%
Pot Odds (Ø¨Ø§ implied): Equity Ù„Ø§Ø²Ù… â‰ˆ ${req2.toFixed(1)}%
Equity Ø´Ù…Ø§: ${(eq*100).toFixed(1)}%

Ù†ØªÛŒØ¬Ù‡:
${ok1?"âœ… Ú©Ø§Ù„ Ø§Ø² Ù†Ø¸Ø± Ù¾Ø§Øª Ø¢Ø¯Ø² Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„Ù‡.":"ğŸš« Ú©Ø§Ù„ Ø§Ø² Ù†Ø¸Ø± Ù¾Ø§Øª Ø¢Ø¯Ø² Ø¨Ø¯/Ù…Ø±Ø²ÛŒÙ‡."}
${impl>0 ? (ok2?"âœ… Ø¨Ø§ implied Ù…Ù†Ø·Ù‚ÛŒâ€ŒØªØ± Ù…ÛŒØ´Ù‡.":"ğŸš« Ø­ØªÛŒ Ø¨Ø§ implied Ù‡Ù… Ø¶Ø¹ÛŒÙÙ‡.") : ""}`;
        };
        $("#potDemo").onclick = ()=>{ $("#potNow").value=10; $("#callAmt").value=6; $("#eqPct").value=35; $("#impl").value=4; $("#potCalc").click(); toast("Ù†Ù…ÙˆÙ†Ù‡ âœ…"); };

        $("#outsCalc").onclick = ()=>{
          const o = num($("#outs").value);
          const street = $("#street").value;
          const chance = Math.min(street==="flop" ? o*4 : o*2, 100);
          $("#outsRes").textContent =
`Outs: ${o}
Ù…Ø±Ø­Ù„Ù‡: ${street==="flop"?"Ø¨Ø¹Ø¯ ÙÙ„Ø§Ù¾":"Ø¨Ø¹Ø¯ ØªØ±Ù†"}
Ø´Ø§Ù†Ø³ ØªÙ‚Ø±ÛŒØ¨ÛŒ ØªÚ©Ù…ÛŒÙ„: â‰ˆ ${chance.toFixed(1)}%`;
        };
        $("#outsDemo").onclick = ()=>{ $("#outs").value=9; $("#street").value="flop"; $("#outsCalc").click(); toast("Ù†Ù…ÙˆÙ†Ù‡ âœ…"); };

        $("#evCalc").onclick = ()=>{
          const pot = num($("#evPot").value);
          const call = num($("#evCall").value);
          const eq = pct($("#evEq").value);
          const rake = num($("#evRake").value);
          const ev = eq*(pot+call) - (1-eq)*call - rake;
          $("#evRes").textContent =
`EV Ú©Ø§Ù„ = ${fmt(ev)}
${ev>0?"âœ… Ù…Ø«Ø¨Øª (Ø³ÙˆØ¯Ø¯Ù‡ Ø¯Ø± Ø¨Ù„Ù†Ø¯Ù…Ø¯Øª)":"ğŸš« Ù…Ù†ÙÛŒ (Ø¶Ø±Ø±Ø¯Ù‡ Ø¯Ø± Ø¨Ù„Ù†Ø¯Ù…Ø¯Øª)"}`;
        };
        $("#evDemo").onclick = ()=>{ $("#evPot").value=12; $("#evCall").value=8; $("#evEq").value=38; $("#evRake").value=0.5; $("#evCalc").click(); toast("Ù†Ù…ÙˆÙ†Ù‡ âœ…"); };

        $("#betCalc").onclick = ()=>{
          const pot = num($("#potSize").value);
          const g = $("#goal").value;
          let arr=[], why="";
          if(g==="dry"){arr=[.25,.33,.40]; why="Ø¨Ø±Ø¯ Ø®Ø´Ú©: Ø³Ø§ÛŒØ² Ú©ÙˆÚ†Ú© ÙØ´Ø§Ø± Ù…ÛŒØ¯Ù‡ Ùˆ Ø±ÛŒØ³Ú© Ú©Ù…Ù‡.";}
          if(g==="value"){arr=[.50,.66,.75]; why="Value/Protection: Ù¾ÙˆÙ„ Ú¯Ø±ÙØªÙ† + Ù‚ÛŒÙ…Øª Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Ø¯Ø±Ø¢Ùˆ.";}
          if(g==="polar"){arr=[.75,1.00,1.25]; why="Polar: ÛŒØ§ Ø®ÛŒÙ„ÛŒ Ù‚ÙˆÛŒ ÛŒØ§ Ø¨Ù„ÙˆÙ Ù‚ÙˆÛŒ.";}
          $("#betRes").textContent =
`Ù¾Ø§Øª: ${fmt(pot)}
${arr.map(x=>`${Math.round(x*100)}% â‰ˆ ${fmt(pot*x)}`).join("\n")}
Ú†Ø±Ø§ØŸ ${why}`;
        };
        $("#betDemo").onclick = ()=>{ $("#potSize").value=24; $("#goal").value="dry"; $("#betCalc").click(); toast("Ù†Ù…ÙˆÙ†Ù‡ âœ…"); };

        $("#brCalc").onclick = ()=>{
          const br = num($("#br").value);
          const type = $("#type").value;
          const risk = $("#risk").value;
          const bi = num($("#bi").value);
          let mult=40;
          if(type==="cash") mult = risk==="safe"?50 : risk==="normal"?40 : 30;
          if(type==="mtt") mult = risk==="safe"?200 : risk==="normal"?150 : 100;
          if(type==="sng") mult = risk==="safe"?120 : risk==="normal"?80 : 60;
          const maxBI = br/mult;
          let msg = `Ù…Ø¹ÛŒØ§Ø±: ${mult}Ã—\nØ­Ø¯Ø§Ú©Ø«Ø± Buy-in Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ â‰ˆ ${fmt(maxBI)}\n`;
          if(bi>0){
            const need = bi*mult;
            msg += `Ø¨Ø±Ø§ÛŒ Buy-in ${fmt(bi)} Ø³Ø±Ù…Ø§ÛŒÙ‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ â‰ˆ ${fmt(need)}\n`;
            msg += br>=need ? "âœ… Ø³Ø±Ù…Ø§ÛŒÙ‡ Ú©Ø§ÙÛŒ (Ø¨Ø§ Ø§ÛŒÙ† Ù…Ø¹ÛŒØ§Ø±)" : "ğŸš« Ø³Ø±Ù…Ø§ÛŒÙ‡ Ú©Ù…Ø› Ø³Ø·Ø­ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ±";
          }
          $("#brRes").textContent = msg;
        };
        $("#brDemo").onclick = ()=>{ $("#br").value=600; $("#type").value="cash"; $("#risk").value="normal"; $("#bi").value=10; $("#brCalc").click(); toast("Ù†Ù…ÙˆÙ†Ù‡ âœ…"); };
      }

      // trainer bindings
      if(current==="trainer"){
        $("#scNew").onclick = newScenario;
        $("#scAns").onclick = revealScenario;
        newScenario();
      }

      // notes bindings
      if(current==="notes"){
        $("#nSave").onclick = saveNote;
        $("#nClear").onclick = clearNotes;
        $("#nRefresh").onclick = renderNotes;
        $("#nSearch").oninput = renderNotes;
        renderNotes();
      }
    }

    /********************
     * Progress
     ********************/
    function getProg(){ return load(LS.prog, {}); }
    function setProg(p){ save(LS.prog, p); }

    function isDone(id){
      const p = getProg();
      return !!p[id];
    }
    function markDone(id){
      const p = getProg();
      p[id] = true;
      setProg(p);
      updateProgressUI();
      toast("ØªÛŒÚ© Ø´Ø¯ âœ…");
    }
    function resetProg(){
      localStorage.removeItem(LS.prog);
      updateProgressUI();
      toast("Ø±ÛŒØ³Øª Ø´Ø¯ ğŸ§¼");
    }

    function updateProgressUI(){
      const p = getProg();
      const total = sections.length;
      const done = sections.filter(s=>p[s.id]).length;
      $("#totalCount").textContent = total;
      $("#doneCount").textContent = done;
      const pct = Math.round((done/total)*100);
      $("#pct").textContent = pct + "%";
      $("#bar").style.width = pct + "%";

      $$("[data-status]").forEach(el=>{
        const id = el.dataset.status;
        const ok = !!p[id];
        el.textContent = ok ? "ØªÛŒÚ©" : "Ø¯Ø±Ø­Ø§Ù„";
        el.classList.toggle("ok", ok);
        el.classList.toggle("todo", !ok);
      });
      updateMarkButton();
    }

    function updateMarkButton(){
      const btn = $("#markBtn");
      if(!btn) return;
      btn.textContent = isDone(current) ? "âœ… Ø§ÛŒÙ† Ø¨Ø®Ø´ ØªÛŒÚ© Ø´Ø¯Ù‡" : "âœ… Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…";
      btn.disabled = isDone(current);
      btn.style.opacity = isDone(current) ? .6 : 1;
    }

    /********************
     * Search highlighting (inside detail only)
     ********************/
    function stripMarks(el){
      if(!el) return;
      $$("mark", el).forEach(m=>m.replaceWith(document.createTextNode(m.textContent)));
    }
    function highlight(el, q){
      if(!q.trim()) return 0;
      const query = q.trim().toLowerCase();
      let count = 0;
      const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, {
        acceptNode(node){
          if(!node.nodeValue) return NodeFilter.FILTER_REJECT;
          const p = node.parentElement?.tagName;
          if(["SCRIPT","STYLE","MARK","INPUT","TEXTAREA"].includes(p)) return NodeFilter.FILTER_REJECT;
          return node.nodeValue.toLowerCase().includes(query) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
        }
      });
      const nodes=[];
      while(walker.nextNode()) nodes.push(walker.currentNode);

      nodes.forEach(node=>{
        const txt = node.nodeValue;
        const low = txt.toLowerCase();
        let idx = low.indexOf(query);
        if(idx<0) return;

        const frag = document.createDocumentFragment();
        let last=0;
        while(idx !== -1){
          frag.appendChild(document.createTextNode(txt.slice(last, idx)));
          const m = document.createElement("mark");
          m.textContent = txt.slice(idx, idx+query.length);
          frag.appendChild(m);
          count++;
          last = idx + query.length;
          idx = low.indexOf(query, last);
        }
        frag.appendChild(document.createTextNode(txt.slice(last)));
        node.parentNode.replaceChild(frag, node);
      });

      return count;
    }

    function runSearch(){
      const q = $("#q")?.value || "";
      stripMarks(detailBody);
      if(!q.trim()) return;
      const hits = highlight(detailBody, q);
      if(hits) toast(`Ù¾ÛŒØ¯Ø§ Ø´Ø¯: ${hits} Ù…ÙˆØ±Ø¯`);
    }

    /********************
     * Notes
     ********************/
    function getNotes(){ return load(LS.notes, []); }
    function setNotes(arr){ save(LS.notes, arr); }

    function saveNote(){
      const name = ($("#nName").value||"").trim();
      const tag = $("#nTag").value;
      const leak = ($("#nLeak").value||"").trim();
      const read = ($("#nRead").value||"").trim();
      const text = ($("#nText").value||"").trim();
      if(!name){ toast("Ø§Ø³Ù… Ø­Ø±ÛŒÙ Ø±Ùˆ Ø¨Ø¯Ù‡ ğŸ˜…"); return; }

      const arr = getNotes();
      arr.unshift({name, tag, leak, read, text, ts: Date.now()});
      setNotes(arr);

      $("#nName").value=""; $("#nLeak").value=""; $("#nRead").value=""; $("#nText").value="";
      toast("Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…");
      renderNotes();
    }

    function clearNotes(){
      localStorage.removeItem(LS.notes);
      toast("Ù¾Ø§Ú© Ø´Ø¯ ğŸ§¨");
      renderNotes();
    }

    function renderNotes(){
      const q = ($("#nSearch")?.value||"").trim().toLowerCase();
      const arr = getNotes().filter(n=>{
        const hay = (n.name+" "+n.tag+" "+n.leak+" "+n.read+" "+n.text).toLowerCase();
        return q ? hay.includes(q) : true;
      });
      const box = $("#nList");
      if(!box) return;
      if(arr.length===0){
        box.textContent = "Ú†ÛŒØ²ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯â€¦";
        return;
      }
      box.textContent = arr.map(n=>{
        const d = new Date(n.ts);
        const date = d.toLocaleDateString("fa-IR");
        return `ğŸ‘¤ ${n.name}  [${n.tag}]  (${date})
- Leak: ${n.leak||"â€”"}
- Read: ${n.read||"â€”"}
- Note: ${n.text||"â€”"}
----------------------`;
      }).join("\n");
    }

    /********************
     * Trainer
     ********************/
    const scenarios = [
      {
        text:`ğŸ“Œ BTN vs CO
- 100bb
- CO Ø±ÛŒØ² 2.5bb
- Ø¯Ø³Øª ØªÙˆ: Aâ™ Jâ™ 
â“ Ø¨Ù‡ØªØ±ÛŒÙ† ØªØµÙ…ÛŒÙ…ØŸ`,
        choices:[
          {t:"Fold", good:false, why:"Ø§ÛŒÙ† Ø¯Ø³Øª playability Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø±Ù‡Ø› ÙÙˆÙ„Ø¯ Ø®ÛŒÙ„ÛŒ ØªÙ†Ú¯Ù‡."},
          {t:"Call", good:true, why:"Ú©Ø§Ù„ Ø¯Ø± Ù¾ÙˆØ²ÛŒØ´Ù† Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡ØŒ Ù…Ø®ØµÙˆØµØ§Ù‹ Ø§Ú¯Ø± Ø­Ø±ÛŒÙ Ø³Ø§Ø¯Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù†Ù‡."},
          {t:"3Bet", good:true, why:"Ø§Ú¯Ø± CO Ø²ÛŒØ§Ø¯ ÙÙˆÙ„Ø¯ Ù…ÛŒâ€ŒØ¯Ù‡ ÛŒØ§ Ø±Ù†Ø¬Ø´ Ø¨Ø§Ø²Ù‡ØŒ 3bet Ø¹Ø§Ù„ÛŒÙ‡."}
        ],
        ans:`âœ… Ù†ØªÛŒØ¬Ù‡:
AJs Ø±ÙˆÛŒ BTN ØºØ§Ù„Ø¨Ø§Ù‹ Call ÛŒØ§ 3Bet Ø§Ø³Øª.
- Ø¶Ø¯ Ù†ÛŒØª/ØªØ§ÛŒØª: Ø¨ÛŒØ´ØªØ± Call
- Ø¶Ø¯ Ø´Ù„/ÙÙˆÙ„Ø¯ Ø²ÛŒØ§Ø¯: 3Bet
ÛŒØ§Ø¯Øª Ù†Ø±Ù‡: Ø¨Ø¹Ø¯ ÙÙ„Ø§Ù¾ Ù¾Ù„Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´.`
      },
      {
        text:`ğŸ“Œ UTG
- 100bb
- Ø¯Ø³Øª: Kâ™¦Jâ™£
â“ ØªØµÙ…ÛŒÙ…ØŸ`,
        choices:[
          {t:"Open", good:false, why:"Ø¯Ø± Ø¨Ø³ÛŒØ§Ø±ÛŒ Ù…ÛŒØ²Ù‡Ø§ KJo Ø§Ø² UTG dominate Ù…ÛŒØ´Ù‡ Ùˆ Ù„ÛŒÚ© Ù…ÛŒâ€ŒØ³Ø§Ø²Ù‡."},
          {t:"Fold", good:true, why:"ÙÙˆÙ„Ø¯ ØªÙ…ÛŒØ²Ù‡. UTG Ø¨Ø§ÛŒØ¯ ØªÙ†Ú¯â€ŒØªØ± Ø¨Ø§Ø´Ù‡."},
          {t:"Limp", good:false, why:"Ù„ÛŒÙ…Ù¾ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù†ÛŒØ³Øª Ùˆ Ù¾Ø§Øª Ø¨Ø¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ù‡."}
        ],
        ans:`âœ… Ù†ØªÛŒØ¬Ù‡:
UTG Ø±Ù†Ø¬ ØªÙ†Ú¯. KJo Ø§ØºÙ„Ø¨ Ø¯Ø±Ø¯Ø³Ø± (ØªØ§Ù¾â€ŒÙ¾ÛŒØ± Ø¨Ø§ Ú©ÛŒÚ©Ø± Ø¶Ø¹ÛŒÙâ€ŒØªØ±).
ÙÙˆÙ„Ø¯ ØªØµÙ…ÛŒÙ… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒÙ‡.`
      },
      {
        text:`ğŸ“Œ Flop Value
- ØªÙˆ Preflop Ø±ÛŒØ² Ú©Ø±Ø¯ÛŒØŒ BB Ú©Ø§Ù„
- ÙÙ„Ø§Ù¾: Qâ™£ 7â™¦ 2â™  (Ø®Ø´Ú©)
- Ø¯Ø³Øª: Aâ™£Qâ™¦
- BB Ú†Ú©
â“ Ø­Ø±Ú©ØªØŸ`,
        choices:[
          {t:"Check back", good:false, why:"Ø±ÙˆÛŒ Ø¨Ø±Ø¯ Ø®Ø´Ú© Value Ø¯Ø§Ø±ÛŒØ› Ù¾ÙˆÙ„ Ø¨Ú¯ÛŒØ±."},
          {t:"Bet Ú©ÙˆÚ†Ú© ~Û³Û°Ùª", good:true, why:"Value Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ Ùˆ Ù¾Ø§Øª Ú©Ù†ØªØ±Ù„ Ù…ÛŒØ´Ù‡."},
          {t:"Bet Ø¨Ø²Ø±Ú¯ ~Û¹Û°Ùª", good:false, why:"Ø¯Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø¯ØªØ± ÙÙˆÙ„Ø¯ Ù…ÛŒØ¯Ù†Ø› Value Ú©Ù… Ù…ÛŒØ´Ù‡."}
        ],
        ans:`âœ… Ù†ØªÛŒØ¬Ù‡:
Ø±ÙˆÛŒ Ø¨Ø±Ø¯ Ø®Ø´Ú©ØŒ Bet Ú©ÙˆÚ†Ú© Ø¹Ø§Ù„ÛŒÙ‡: Ù‡Ù… ValueØŒ Ù‡Ù… Ø±ÛŒØ³Ú© Ú©Ù…ØªØ±.
Ù‡Ø¯Ù: Ú¯Ø±ÙØªÙ† Ù¾ÙˆÙ„ Ø§Ø² Q Ø¶Ø¹ÛŒÙâ€ŒØªØ±/Ù¾Ú©Øªâ€ŒÙ‡Ø§/7x.`
      },
      {
        text:`ğŸ“Œ Draw + Overcards
- ÙÙ„Ø§Ù¾: Jâ™  9â™  2â™¦
- Ø¯Ø³Øª: Aâ™ Qâ™ 
- Ø­Ø±ÛŒÙ 2/3 Ù¾Ø§Øª Ø´Ø±Ø· Ù…ÛŒâ€ŒÚ©Ù†Ù‡
â“ ØªØµÙ…ÛŒÙ…ØŸ`,
        choices:[
          {t:"Fold", good:false, why:"Equity Ø®ÙˆØ¨Ù‡ (ÙÙ„Ø§Ø´â€ŒØ¯Ø±Ø§Ùˆ + Ø§ÙˆØ±Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§)."},
          {t:"Call", good:true, why:"Ú©Ø§Ù„ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ø› Pot Odds Ø±Ùˆ Ú†Ú© Ú©Ù†."},
          {t:"Raise (semi-bluff)", good:true, why:"Ø§Ú¯Ø± ÙÙˆÙ„Ø¯ Ù…ÛŒâ€ŒØ¯Ù‡ØŒ Ø³Ù…ÛŒâ€ŒØ¨Ù„ÙˆÙ Ø¹Ø§Ù„ÛŒÙ‡."}
        ],
        ans:`âœ… Ù†ØªÛŒØ¬Ù‡:
AQâ™  Ø§ÛŒÙ†Ø¬Ø§ equity Ø®ÙˆØ¨ Ø¯Ø§Ø±Ø¯.
Call Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø§Ø³ØªØ› Raise ÙˆÙ‚ØªÛŒ Ø®ÙˆØ¨Ù‡ Ú©Ù‡ Fold Equity Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ.`
      }
    ];

    let sc = null;
    function newScenario(){
      sc = scenarios[Math.floor(Math.random()*scenarios.length)];
      $("#scText").textContent = sc.text;
      $("#scExplain").textContent = "â€”";
      const box = $("#scChoices");
      box.innerHTML = "";
      sc.choices.forEach(c=>{
        const b = document.createElement("button");
        b.type="button";
        b.className = "btn " + (c.good ? "good" : "");
        b.textContent = c.t;
        b.onclick = ()=>{
          toast(c.good ? "âœ… Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¨" : "âŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¶Ø¹ÛŒÙ");
          $("#scExplain").textContent = `ØªÙˆØ¶ÛŒØ­: ${c.why}`;
        };
        box.appendChild(b);
      });
    }
    function revealScenario(){
      if(!sc){ toast("Ø§ÙˆÙ„ Ø³Ù†Ø§Ø±ÛŒÙˆ Ø¬Ø¯ÛŒØ¯ Ø¨Ø²Ù† ğŸ˜…"); return; }
      $("#scExplain").textContent = sc.ans;
    }

    /********************
     * Tabs behavior
     ********************/
    function setTab(name){
      $$(".tab").forEach(t=>t.classList.toggle("on", t.dataset.tab===name));
      if(name==="learn") openSection(current || "roadmap");
      if(name==="math") openSection("math");
      if(name==="trainer") openSection("trainer");
    }

    /********************
     * Wiring
     ********************/
    // open from list
    $$("[data-open]").forEach(btn=>{
      btn.addEventListener("click", ()=>openSection(btn.dataset.open));
    });

    // tabs
    $$(".tab").forEach(t=>{
      t.addEventListener("click", ()=>setTab(t.dataset.tab));
    });

    // progress buttons
    $("#markBtn").addEventListener("click", ()=>markDone(current));
    $("#resetAllBtn").addEventListener("click", resetProg);
    $("#resetBtn").addEventListener("click", resetProg);

    // help
    $("#helpBtn").addEventListener("click", ()=>{
      toast("Ù…ÛŒØ§Ù†Ø¨Ø±: ØªÙˆÛŒ Ø³Ø±Ú† ØªØ§ÛŒÙ¾ Ú©Ù† ØªØ§ Ø¯Ø§Ø®Ù„ Ø¨Ø®Ø´ Ø¨Ø§Ø² Ù‡Ø§ÛŒÙ„Ø§ÛŒØª Ø¨Ø´Ù‡ âœ…");
    });

    // search
    $("#q").addEventListener("input", ()=>{
      runSearch();
    });

    // initial load
    $("#totalCount").textContent = sections.length;
    updateProgressUI();
    openSection("roadmap");

    // prevent weird overscroll on iOS for buttons
    document.addEventListener("touchstart", ()=>{}, {passive:true});
  </script>
</body>
</html>
