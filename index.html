<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#070A10" />
  <title>Poker Master | Ø¢Ù…ÙˆØ²Ø´ Ù¾ÙˆÚ©Ø± Ø§Ø² Ù…Ø¨ØªØ¯ÛŒ ØªØ§ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</title>
  <meta name="description" content="Ø³Ø§ÛŒØª Ú©Ø§Ù…Ù„ Ø¢Ù…ÙˆØ²Ø´ Ù¾ÙˆÚ©Ø±: Ù…Ø¨ØªØ¯ÛŒ ØªØ§ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ + ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ + ØªÙ…Ø±ÛŒÙ† + Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨ + ØµÙØ­Ø§Øª Ø²ÛŒØ§Ø¯ (Mobile-first)"/>

  <style>
    :root{
      --bg0:#05070D;
      --bg1:#0A1120;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.035);
      --line: rgba(255,255,255,.10);
      --txt:#ECF3FF;
      --muted: rgba(236,243,255,.70);
      --muted2: rgba(236,243,255,.52);
      --neon:#55D7FF;
      --ok:#3DFFB6;
      --gold:#FFD76A;
      --danger:#FF5D73;
      --purple:#A78BFA;
      --tap: 48px;
      --r14:14px;
      --r18:18px;
      --r22:22px;
      --safeTop: env(safe-area-inset-top, 0px);
      --safeBot: env(safe-area-inset-bottom, 0px);
      --safeL: env(safe-area-inset-left, 0px);
      --safeR: env(safe-area-inset-right, 0px);
      color-scheme: dark;
    }
    *{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color: var(--txt);
      background:
        radial-gradient(900px 700px at 18% 10%, rgba(85,215,255,.13), transparent 60%),
        radial-gradient(900px 700px at 82% 18%, rgba(61,255,182,.10), transparent 60%),
        radial-gradient(1000px 900px at 50% 115%, rgba(255,215,106,.08), transparent 60%),
        linear-gradient(180deg,var(--bg0),var(--bg1));
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: calc(12px + var(--safeTop)) calc(12px + var(--safeR)) calc(92px + var(--safeBot)) calc(12px + var(--safeL));
    }

    /* ===== Topbar ===== */
    .topbar{
      position: sticky;
      top:0;
      z-index:60;
      padding-top: var(--safeTop);
      background: rgba(5,7,13,.78);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topbar .inner{
      max-width: 1100px;
      margin: 0 auto;
      padding: 10px calc(12px + var(--safeR)) 10px calc(12px + var(--safeL));
      display:flex; gap:10px; align-items:center;
    }
    .logo{
      width:46px;height:46px;border-radius:18px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(120% 120% at 30% 30%, rgba(85,215,255,.22), rgba(61,255,182,.12)),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset, 0 18px 60px rgba(0,0,0,.35);
      user-select:none;
      font-size:18px;
    }
    .brand{ flex:1; min-width:0; }
    .brand b{
      display:block;
      font-size: 15px;
      font-weight: 950;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brand span{
      display:block;
      margin-top:4px;
      font-size: 12px;
      color: var(--muted);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .iconBtn{
      height: var(--tap);
      min-width: var(--tap);
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--txt);
      cursor:pointer;
      display:grid;place-items:center;
      font-weight: 950;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
    }
    .iconBtn:active{ transform: scale(.98); }

    /* ===== Search ===== */
    .searchRow{
      max-width:1100px;
      margin: 0 auto;
      padding: 0 calc(12px + var(--safeR)) 12px calc(12px + var(--safeL));
      display:flex; gap:10px; align-items:center;
    }
    .search{
      flex:1;
      height: var(--tap);
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      display:flex; align-items:center; gap:10px;
      padding: 0 12px;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
    }
    .search input{
      flex:1;
      background:transparent;
      border:0;
      outline:none;
      color:var(--txt);
      font-size: 14px;
    }
    .search input::placeholder{ color: rgba(236,243,255,.45); }
    .pill{
      display:flex; align-items:center; gap:8px;
      height: var(--tap);
      padding: 0 12px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      font-size: 12px;
      font-weight: 950;
      color: rgba(236,243,255,.90);
      user-select:none;
      white-space:nowrap;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--ok);
      box-shadow: 0 0 0 4px rgba(61,255,182,.12), 0 0 24px rgba(61,255,182,.25);
    }

    /* ===== Cards / list ===== */
    .grid{ display:grid; gap:10px; }
    .card{
      border-radius: var(--r22);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.035));
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      overflow:hidden;
      position:relative;
    }
    .pad{ padding: 14px; }
    .divider{ height:1px; background: rgba(255,255,255,.08); }

    .listBtn{
      width:100%;
      border:0;
      background: transparent;
      color: var(--txt);
      padding: 14px 14px;
      display:flex; align-items:center; gap:12px;
      cursor:pointer;
      text-align:right;
    }
    .listBtn:hover{ background: rgba(255,255,255,.02); }
    .listBtn:active{ transform: scale(.997); }

    .badge{
      width:38px;height:38px;border-radius:14px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
      flex:0 0 auto;
      user-select:none;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
    }
    .meta{ flex:1; min-width:0; }
    .meta .t{
      font-weight: 950;
      font-size: 14px;
      display:flex; align-items:center; gap:8px;
    }
    .meta .d{
      margin-top:5px;
      color: var(--muted);
      font-size: 12px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .status{
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      font-size: 12px;
      color: var(--muted2);
      white-space:nowrap;
    }
    .status.ok{ color: rgba(61,255,182,.95); border-color: rgba(61,255,182,.22); background: rgba(61,255,182,.08); }
    .status.todo{ color: rgba(255,215,106,.95); border-color: rgba(255,215,106,.22); background: rgba(255,215,106,.08); }

    /* ===== Progress ===== */
    .progressTop{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
    .chips{ display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; }
    .chip{
      padding: 7px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      font-size: 12px;
      color: var(--muted);
      user-select:none;
      white-space:nowrap;
    }
    .chip strong{ color: var(--txt); }
    .bar{
      height:10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      overflow:hidden;
      margin-top:10px;
    }
    .bar i{
      display:block;
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(85,215,255,.95), rgba(61,255,182,.95), rgba(255,215,106,.92));
      box-shadow: 0 0 28px rgba(85,215,255,.22);
      transition: width .28s ease;
    }

    /* ===== Buttons ===== */
    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }
    .btn{
      height: var(--tap);
      padding: 0 14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--txt);
      font-weight: 950;
      cursor:pointer;
      transition: transform .12s ease;
    }
    .btn:active{ transform: scale(.99); }
    .btn.primary{ border-color: rgba(85,215,255,.30); background: rgba(85,215,255,.10); }
    .btn.good{ border-color: rgba(61,255,182,.26); background: rgba(61,255,182,.10); }
    .btn.danger{ border-color: rgba(255,93,115,.26); background: rgba(255,93,115,.09); }
    .btn.gold{ border-color: rgba(255,215,106,.28); background: rgba(255,215,106,.09); }
    .btn.purple{ border-color: rgba(167,139,250,.30); background: rgba(167,139,250,.10); }

    /* ===== Page Overlay (this is the â€œnew pageâ€) ===== */
    .page{
      position: fixed;
      inset: 0;
      z-index: 120;
      background:
        radial-gradient(900px 700px at 22% 12%, rgba(85,215,255,.12), transparent 60%),
        radial-gradient(900px 700px at 84% 18%, rgba(61,255,182,.10), transparent 60%),
        linear-gradient(180deg, rgba(5,7,13,.98), rgba(10,17,32,.98));
      transform: translateX(110%);
      transition: transform .22s ease;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      padding: calc(12px + var(--safeTop)) calc(12px + var(--safeR)) calc(18px + var(--safeBot)) calc(12px + var(--safeL));
      border-left: 1px solid rgba(255,255,255,.06);
    }
    .page.show{ transform: translateX(0); }
    .pageInner{
      max-width: 900px;
      margin: 0 auto;
      padding-bottom: 20px;
    }
    .pageTop{
      display:flex; align-items:center; gap:10px;
      margin-bottom: 12px;
    }
    .pageTitle{ flex:1; min-width:0; }
    .pageTitle h2{ margin:0; font-size: 17px; font-weight: 950; }
    .pageTitle p{ margin:6px 0 0; color: var(--muted); font-size: 12px; line-height: 1.8; }

    .contentCard{
      border-radius: var(--r22);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.035));
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      overflow:hidden;
      margin-top: 10px;
    }
    .contentPad{ padding: 14px; }
    h3{ margin: 0 0 8px; font-size: 14px; font-weight: 950; }
    p{ margin:0; color: rgba(236,243,255,.82); font-size: 13px; line-height: 1.95; }
    ul{ margin:8px 0 0; padding:0 18px 0 0; color: rgba(236,243,255,.84); font-size: 13px; line-height: 2.0; }
    li{ margin:2px 0; }

    .note{
      margin-top: 10px;
      padding: 12px;
      border-radius: 18px;
      border:1px dashed rgba(85,215,255,.26);
      background: rgba(85,215,255,.06);
      color: rgba(236,243,255,.90);
      font-size: 13px;
      line-height: 1.9;
    }
    .note.ok{ border-color: rgba(61,255,182,.26); background: rgba(61,255,182,.06); }
    .note.warn{ border-color: rgba(255,93,115,.30); background: rgba(255,93,115,.06); }
    .note.gold{ border-color: rgba(255,215,106,.28); background: rgba(255,215,106,.06); }
    .note.purple{ border-color: rgba(167,139,250,.30); background: rgba(167,139,250,.07); }

    mark{
      background: rgba(255,215,106,.18);
      color: rgba(236,243,255,.95);
      border:1px solid rgba(255,215,106,.22);
      padding: 0 4px;
      border-radius: 8px;
    }

    /* ===== Bottom quick nav ===== */
    .bottomNav{
      position: fixed;
      left:0; right:0; bottom:0;
      z-index: 70;
      padding: 10px calc(12px + var(--safeR)) calc(10px + var(--safeBot)) calc(12px + var(--safeL));
      background: rgba(5,7,13,.82);
      backdrop-filter: blur(14px);
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .tabs{ display:flex; gap:10px; max-width:1100px; margin: 0 auto; }
    .tab{
      flex:1;
      height: 46px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color: var(--txt);
      display:flex; align-items:center; justify-content:center; gap:8px;
      font-weight: 950;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
    }
    .tab.on{
      border-color: rgba(61,255,182,.28);
      background: rgba(61,255,182,.10);
    }

    /* ===== Toast ===== */
    .toast{
      position: fixed;
      left: 50%;
      bottom: calc(86px + var(--safeBot));
      transform: translateX(-50%) translateY(10px);
      z-index: 200;
      padding: 12px 14px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.60);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      color: rgba(236,243,255,.92);
      font-weight: 950;
      font-size: 12px;
      opacity: 0;
      pointer-events: none;
      transition: .22s ease;
      max-width: min(560px, 92vw);
      text-align:center;
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(0); }

    @media (min-width: 920px){
      .wrap{ padding-bottom: 22px; }
      .bottomNav{ display:none; }
      .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
      .grid3{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px; }
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="inner">
      <div class="logo">â™ ï¸</div>
      <div class="brand">
        <b>Poker Master â€” Ø¢Ù…ÙˆØ²Ø´ Ú©Ø§Ù…Ù„ Ù¾ÙˆÚ©Ø±</b>
        <span>Ú©Ù„ÛŒÚ© Ú©Ù† = ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø§Ø² Ù…ÛŒØ´Ù‡ âœ… (Ø¨Ø¯ÙˆÙ† Ø§Ø³Ú©Ø±ÙˆÙ„Ù Ù…Ø³Ø®Ø±Ù‡)</span>
      </div>
      <button class="iconBtn" id="resetBtn" type="button" title="Ø±ÛŒØ³Øª Ù¾ÛŒØ´Ø±ÙØª">â†º</button>
    </div>

    <div class="searchRow">
      <div class="search">
        <span style="opacity:.85">ğŸ”</span>
        <input id="q" type="search" inputmode="search" placeholder="Ø¬Ø³ØªØ¬Ùˆâ€¦ Ù…Ø«Ù„Ø§: Ú©Ø§Ù„ØŒ Ø±ÛŒØ²ØŒ Ø¨Ù„ÙˆÙØŒ Ù¾ÙˆØ²ÛŒØ´Ù†ØŒ Ù¾Ø§Øª Ø¢Ø¯Ø²" />
      </div>
      <div class="pill" title="Ø°Ø®ÛŒØ±Ù‡ Ø±ÙˆØ´Ù† Ø§Ø³Øª">
        <span class="dot"></span>
        <span id="saveText">Ø°Ø®ÛŒØ±Ù‡: ÙØ¹Ø§Ù„</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">

      <section class="card">
        <div class="pad">
          <div class="progressTop">
            <b>Ù¾ÛŒØ´Ø±ÙØª ğŸ˜ˆ</b>
            <div class="chips">
              <span class="chip"><strong id="doneCount">0</strong> ØªÛŒÚ©</span>
              <span class="chip"><strong id="totalCount">0</strong> Ú©Ù„</span>
              <span class="chip"><strong id="pct">0%</strong></span>
            </div>
          </div>
          <div class="bar"><i id="bar"></i></div>

          <div class="actions">
            <button class="btn good" id="markBtn" type="button">âœ… Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…</button>
            <button class="btn danger" id="resetAllBtn" type="button">Ø±ÛŒØ³Øª Ú©Ø§Ù…Ù„</button>
            <button class="btn gold" id="planBtn" type="button">ğŸ“Œ Ù¾Ù„Ù† Û· Ø±ÙˆØ²Ù‡</button>
          </div>

          <div class="note ok">
            âœ… Ú©Ù„ÛŒÚ©â€ŒÙ‡Ø§ Û±Û°Û°Ùª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù† Ú†ÙˆÙ† ØµÙØ­Ù‡â€ŒÙ‡Ø§ â€œOverlayâ€ Ù‡Ø³ØªÙ† Ùˆ Ú†ÛŒØ²ÛŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ù†Ù…ÛŒâ€ŒØ§ÙØªÙ‡.
          </div>
        </div>
      </section>

      <section class="card">
        <button class="listBtn" type="button" data-page="start">
          <span class="badge">ğŸš€</span>
          <span class="meta">
            <span class="t">Ø´Ø±ÙˆØ¹ Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡ <span class="status todo" data-status="start">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø§Ú¯Ù‡ Ù‡ÛŒÚ†ÛŒ Ù†Ù…ÛŒâ€ŒØ¯ÙˆÙ†ÛŒ Ø§Ø² Ø§ÛŒÙ†Ø¬Ø§</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="rules">
          <span class="badge">ğŸ“Œ</span>
          <span class="meta">
            <span class="t">Ù‚ÙˆØ§Ù†ÛŒÙ† + Ø¯Ø³Øªâ€ŒÙ‡Ø§ <span class="status todo" data-status="rules">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø³Øªâ€ŒÙ‡Ø§ Ùˆ Ù…Ø±Ø§Ø­Ù„ Ø¨Ø§Ø²ÛŒ</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="terms-basic">
          <span class="badge">ğŸ—£ï¸</span>
          <span class="meta">
            <span class="t">Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ù¾Ø§ÛŒÙ‡ <span class="status todo" data-status="terms-basic">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ú©Ø§Ù„/Ø±ÛŒØ²/Ú†Ú©/ÙÙˆÙ„Ø¯/Ù¾Ø§Øªâ€¦</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="positions">
          <span class="badge">ğŸª‘</span>
          <span class="meta">
            <span class="t">Ù¾ÙˆØ²ÛŒØ´Ù† <span class="status todo" data-status="positions">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">BTN Ú†Ø±Ø§ Ø®Ø¯Ø§ÛŒ Ù…ÛŒØ²ÙÙ‡ØŸ</span>
          </span>
        </button>
        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="preflop-101">
          <span class="badge">ğŸ§ </span>
          <span class="meta">
            <span class="t">Ù¾Ø±ÛŒÙÙ„Ø§Ù¾ Û±Û°Û± <span class="status todo" data-status="preflop-101">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø±ÛŒØ²Ù‡ ÛŒØ§ ÙÙˆÙ„Ø¯ØŸ Ø³Ø§ÛŒØ²Ù‡Ø§ Ùˆ Ø§Ø´ØªØ¨Ø§Ù‡Ø§Øª</span>
          </span>
        </button>

        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="postflop-value">
          <span class="badge">ğŸ¯</span>
          <span class="meta">
            <span class="t">Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾: Value <span class="status todo" data-status="postflop-value">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ø´Ø±Ø· Ø¯Ø±Ø³Øª Ø¨Ø±Ø§ÛŒ Ù¾ÙˆÙ„ Ú¯Ø±ÙØªÙ†</span>
          </span>
        </button>

        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="postflop-bluff">
          <span class="badge">ğŸƒ</span>
          <span class="meta">
            <span class="t">Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾: Bluff <span class="status todo" data-status="postflop-bluff">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ú†Ø·ÙˆØ± Ø¨Ù„ÙˆÙ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø²Ù†ÛŒÙ… (Ù†Ù‡ Ø´Ø§Ù†Ø³ÛŒ)</span>
          </span>
        </button>

        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="math-odds">
          <span class="badge">ğŸ§®</span>
          <span class="meta">
            <span class="t">Ø±ÛŒØ§Ø¶ÛŒ Ø³Ø§Ø¯Ù‡ (Odds/Outs) <span class="status todo" data-status="math-odds">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ù‚Ø§Ù†ÙˆÙ† Û² Ùˆ Û´ + Ù¾Ø§Øª Ø¢Ø¯Ø²</span>
          </span>
        </button>

        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="glossary">
          <span class="badge">ğŸ“š</span>
          <span class="meta">
            <span class="t">ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ Ú©Ø§Ù…Ù„ <span class="status todo" data-status="glossary">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ù‡Ø± Ø§ØµØ·Ù„Ø§Ø­ÛŒ Ø¯ÛŒØ¯ÛŒØŒ Ù…Ø¹Ù†ÛŒâ€ŒØ´ Ø§ÛŒÙ†Ø¬Ø§Ø³Øª</span>
          </span>
        </button>

        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="bankroll">
          <span class="badge">ğŸ’°</span>
          <span class="meta">
            <span class="t">Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø±Ù…Ø§ÛŒÙ‡ <span class="status todo" data-status="bankroll">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ú†Ø¬ÙˆØ±ÛŒ Ù†Ø§Ø¨ÙˆØ¯ Ù†Ø´ÛŒÙ…ØŸ</span>
          </span>
        </button>

        <div class="divider"></div>

        <button class="listBtn" type="button" data-page="tilt">
          <span class="badge">ğŸ˜¤</span>
          <span class="meta">
            <span class="t">Ú©Ù†ØªØ±Ù„ ØªÛŒÙ„Øª <span class="status todo" data-status="tilt">Ø¯Ø±Ø­Ø§Ù„</span></span>
            <span class="d">Ú†Ø·ÙˆØ± Ø¹ØµØ¨ÛŒ Ù†Ø´ÛŒÙ… Ùˆ Ø®Ø±Ø§Ø¨ Ù†Ú©Ù†ÛŒÙ…</span>
          </span>
        </button>

      </section>

    </div>
  </main>

  <footer class="bottomNav">
    <div class="tabs">
      <button class="tab on" type="button" data-tab="home">ğŸ  Ø®Ø§Ù†Ù‡</button>
      <button class="tab" type="button" data-tab="learn">ğŸ“– ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</button>
      <button class="tab" type="button" data-tab="pro">ğŸ˜ˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</button>
    </div>
  </footer>

  <!-- Page Overlay -->
  <section class="page" id="page">
    <div class="pageInner">
      <div class="pageTop">
        <button class="iconBtn" id="backBtn" type="button" title="Ø¨Ø§Ø²Ú¯Ø´Øª">â†</button>
        <div class="pageTitle">
          <h2 id="pageH">â€”</h2>
          <p id="pageSub">â€”</p>
        </div>
        <button class="iconBtn" id="copyLinkBtn" type="button" title="Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú©">â˜</button>
      </div>

      <div class="contentCard">
        <div class="contentPad" id="pageBody"></div>
      </div>

      <div class="contentCard">
        <div class="contentPad">
          <div class="actions">
            <button class="btn good" id="markInsideBtn" type="button">âœ… Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…</button>
            <button class="btn gold" id="nextBtn" type="button">Ø¨Ø¹Ø¯ÛŒ â–¶</button>
            <button class="btn purple" id="prevBtn" type="button">â—€ Ù‚Ø¨Ù„ÛŒ</button>
          </div>

          <div class="note ok">
            âœ… Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ â€œØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯â€Ù‡. Ù‡Ø± Ú©Ù„ÛŒÚ©ØŒ Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ Ø¨Ø§Ø² Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ùˆ Ø§Ø² Ø¨Ø§Ù„Ø§ Ø´Ø±ÙˆØ¹ Ù…ÛŒØ´Ù‡.
          </div>
        </div>
      </div>

    </div>
  </section>

  <div class="toast" id="toast"></div>

  <script>
    const $ = (s, el=document)=>el.querySelector(s);
    const $$ = (s, el=document)=>[...el.querySelectorAll(s)];

    const LS = { prog: "poker_master_pages_prog_v3" };

    function toast(msg){
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(toast._tm);
      toast._tm = setTimeout(()=>t.classList.remove("show"), 1900);
    }

    function load(key, fallback){
      try{
        const v = localStorage.getItem(key);
        return v ? JSON.parse(v) : fallback;
      }catch(e){ return fallback; }
    }
    function save(key, obj){ localStorage.setItem(key, JSON.stringify(obj)); }

    // Pages (Ø§ÛŒÙ† Ø³Ø§Ø®ØªØ§Ø± Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ â€œØµÙØ­Ø§Øª Ø¨Ø³ÛŒØ§Ø± Ø²ÛŒØ§Ø¯â€ Ø±Ø§Ø­Øª Ø§Ø¶Ø§ÙÙ‡ Ø¨Ø´Ù‡)
    const PAGES = [
      { id:"start", icon:"ğŸš€", title:"Ø´Ø±ÙˆØ¹ Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡", sub:"Ø§Ú¯Ù‡ ØªØ§Ø²Ù‡â€ŒÚ©Ø§Ø±ÛŒ Ø§Ø² Ø§ÛŒÙ†Ø¬Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†", body:`
        <h3>Û¶ Ú†ÛŒØ² Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ù„Ø¯ Ø¨Ø§Ø´ÛŒ</h3>
        <ul>
          <li><b>Ù‡Ø¯Ù:</b> Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯Ø³Øª ÛŒØ§ ÙÙˆÙ„Ø¯ Ú¯Ø±ÙØªÙ†.</li>
          <li><b>Û² Ú©Ø§Ø±Øª Ø¯Ø³Øª</b> + <b>Ûµ Ú©Ø§Ø±Øª ÙˆØ³Ø·</b>.</li>
          <li><b>Ø¨Ù‡ØªØ±ÛŒÙ† Ûµ Ú©Ø§Ø±Øª</b> Ø§Ø² Ø¨ÛŒÙ† Û· Ú©Ø§Ø±Øª Ø­Ø³Ø§Ø¨ Ù…ÛŒØ´Ù‡.</li>
          <li>Ø­Ø±Ú©Øªâ€ŒÙ‡Ø§: Check / Bet / Call / Raise / Fold</li>
          <li>Ù…Ø±Ø§Ø­Ù„: Preflop â†’ Flop â†’ Turn â†’ River</li>
          <li>Ù¾ÙˆØ²ÛŒØ´Ù† = Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± = ØªØµÙ…ÛŒÙ… Ø¨Ù‡ØªØ±</li>
        </ul>
        <div class="note ok">âœ… Ù¾ÙˆÚ©Ø± Ø¨Ø§Ø²ÛŒ ØªØµÙ…ÛŒÙ…â€ŒÙ‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒÙ‡. ØªØµÙ…ÛŒÙ… Ø¯Ø±Ø³Øª = Ø³ÙˆØ¯ Ø¯Ø± Ø¨Ù„Ù†Ø¯Ù…Ø¯Øª.</div>
      `},

      { id:"rules", icon:"ğŸ“Œ", title:"Ù‚ÙˆØ§Ù†ÛŒÙ† + Ø¯Ø³Øªâ€ŒÙ‡Ø§", sub:"Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø³Øªâ€ŒÙ‡Ø§ Ùˆ Ù…Ø±Ø§Ø­Ù„ Ø¨Ø§Ø²ÛŒ", body:`
        <h3>Ù…Ø±Ø§Ø­Ù„</h3>
        <ul>
          <li>Preflop: Ø¯Ùˆ Ú©Ø§Ø±Øª</li>
          <li>Flop: Ø³Ù‡ Ú©Ø§Ø±Øª ÙˆØ³Ø·</li>
          <li>Turn: Ú©Ø§Ø±Øª Ú†Ù‡Ø§Ø±Ù…</li>
          <li>River: Ú©Ø§Ø±Øª Ù¾Ù†Ø¬Ù…</li>
        </ul>
        <h3>Ø±ØªØ¨Ù‡ Ø¯Ø³Øªâ€ŒÙ‡Ø§ (Ù‚ÙˆÛŒ â†’ Ø¶Ø¹ÛŒÙ)</h3>
        <ul>
          <li>Straight Flush</li><li>Four of a Kind</li><li>Full House</li><li>Flush</li>
          <li>Straight</li><li>Three of a Kind</li><li>Two Pair</li><li>One Pair</li><li>High Card</li>
        </ul>
        <div class="note warn">ğŸš« Ø§Ø´ØªØ¨Ø§Ù‡ Ø±Ø§ÛŒØ¬: Ø¬ÙØª Ø¯Ø§Ø±Ù… Ù¾Ø³ Ù‚ÙˆÛŒÙ‡! Ù†Ù‡â€¦ Ø¨Ù‡ Ø¨Ø±Ø¯ Ù†Ú¯Ø§Ù‡ Ú©Ù†.</div>
      `},

      { id:"terms-basic", icon:"ğŸ—£ï¸", title:"Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ù¾Ø§ÛŒÙ‡", sub:"Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡ Ùˆ Ù‚Ø§Ø¨Ù„ ÙÙ‡Ù…", body:`
        <h3>Ø­Ø±Ú©Øªâ€ŒÙ‡Ø§</h3>
        <ul>
          <li><b>Check:</b> ÙˆÙ‚ØªÛŒ Ø´Ø±Ø·ÛŒ Ø¬Ù„Ùˆ Ù†ÛŒØ³Øª.</li>
          <li><b>Bet:</b> Ø´Ø±Ø· Ú©Ø±Ø¯Ù†.</li>
          <li><b>Call:</b> Ù‡Ù…ÙˆÙ† Ù…Ù‚Ø¯Ø§Ø± Ø´Ø±Ø·.</li>
          <li><b>Raise:</b> Ø¨ÛŒØ´ØªØ± Ú©Ø±Ø¯Ù† Ø´Ø±Ø·.</li>
          <li><b>Fold:</b> Ø§Ù†Ø¯Ø§Ø®ØªÙ† Ú©Ø§Ø±Øª.</li>
          <li><b>All-in:</b> Ù‡Ù…Ù‡ Ù¾ÙˆÙ„.</li>
        </ul>
        <h3>Ù¾ÙˆÙ„ Ø§Ø¬Ø¨Ø§Ø±ÛŒ</h3>
        <ul>
          <li><b>SB/BB:</b> Ø¯Ùˆ Ø¨Ù„Ø§ÛŒÙ†Ø¯.</li>
          <li><b>Pot:</b> Ù¾ÙˆÙ„ ÙˆØ³Ø·.</li>
        </ul>
        <div class="note ok">âœ… Ù‡Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ùˆ Ø¨Ù„Ø¯ Ø¨Ø§Ø´ÛŒØŒ Û·Û°Ùª Ø­Ø±Ùâ€ŒÙ‡Ø§ÛŒ Ù…ÛŒØ² Ø±Ùˆ Ù…ÛŒâ€ŒÙÙ‡Ù…ÛŒ.</div>
      `},

      { id:"positions", icon:"ğŸª‘", title:"Ù¾ÙˆØ²ÛŒØ´Ù†", sub:"Ù…Ù‡Ù…â€ŒØªØ±ÛŒÙ† Ø±Ø§Ø² Ù¾ÙˆÚ©Ø±", body:`
        <p>Ù‡Ø±Ú†ÛŒ Ø¯ÛŒØ±ØªØ± ØªØµÙ…ÛŒÙ… Ø¨Ú¯ÛŒØ±ÛŒØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±ÛŒ.</p>
        <ul>
          <li><b>BTN:</b> Ø¨Ù‡ØªØ±ÛŒÙ†</li>
          <li><b>CO:</b> Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨</li>
          <li><b>UTG:</b> Ø³Ø®Øª (ØªÙ†Ú¯â€ŒØªØ± Ø¨Ø§Ø²ÛŒ Ú©Ù†)</li>
          <li><b>SB/BB:</b> Ø²ÛŒØ§Ø¯ Ø¨ÛŒØ±ÙˆÙ† Ù¾ÙˆØ²ÛŒØ´Ù†</li>
        </ul>
        <div class="note gold">ğŸ¯ Ù‚Ø§Ù†ÙˆÙ†: IP Ø¨Ù‡ØªØ± Ø§Ø² OOP. Ø¨ÛŒØ±ÙˆÙ† Ù¾ÙˆØ²ÛŒØ´Ù† Ú©Ù…ØªØ± Ú©Ø§Ù„ Ú©Ù†.</div>
      `},

      { id:"preflop-101", icon:"ğŸ§ ", title:"Ù¾Ø±ÛŒÙÙ„Ø§Ù¾ Û±Û°Û±", sub:"Ú©ÙÛŒ Ø±ÛŒØ² Ú©Ù†ÛŒÙ…ØŸ Ú©ÙÛŒ ÙÙˆÙ„Ø¯ØŸ", body:`
        <h3>Û³ Ù‚Ø§Ù†ÙˆÙ† Ø³Ø§Ø¯Ù‡</h3>
        <ul>
          <li>Ú©Ù…ØªØ± Ù„ÛŒÙ…Ù¾ Ú©Ù† â†’ Ø¨ÛŒØ´ØªØ± Raise ÛŒØ§ Fold</li>
          <li>UTG ØªÙ†Ú¯â€ŒØªØ±ØŒ BTN Ø¨Ø§Ø²ØªØ±</li>
          <li>Ø¨Ø§ Ø¯Ø³Øª Ø¨Ø¯ â€œØ§Ù…ÛŒØ¯â€ Ø¨Ø§Ø²ÛŒ Ù†Ú©Ù†</li>
        </ul>
        <h3>Ø³Ø§ÛŒØ²Ù‡Ø§</h3>
        <ul>
          <li>Open: 2x ØªØ§ 3x</li>
          <li>3Bet: Ø­Ø¯ÙˆØ¯ 3 Ø¨Ø±Ø§Ø¨Ø± Ø±ÛŒØ² Ø­Ø±ÛŒÙ (OOP Ú©Ù…ÛŒ Ø¨ÛŒØ´ØªØ±)</li>
        </ul>
        <div class="note purple">ğŸ§© Ù†Ú©ØªÙ‡: Ø¯Ø³Øª Ø®ÙˆØ¨ + Ù¾ÙˆØ²ÛŒØ´Ù† Ø®ÙˆØ¨ = Ø§Ø¬Ø§Ø²Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨ÛŒØ´ØªØ±.</div>
      `},

      { id:"postflop-value", icon:"ğŸ¯", title:"Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾: Value", sub:"Ú†Ø·ÙˆØ± Ù¾ÙˆÙ„ Ø¨Ú¯ÛŒØ±ÛŒÙ…ØŸ", body:`
        <h3>Value Bet ÛŒØ¹Ù†ÛŒ Ú†ÛŒØŸ</h3>
        <p>Ø´Ø±Ø· Ù…ÛŒâ€ŒÚ©Ù†ÛŒ Ú©Ù‡ Ø¯Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø¯ØªØ± Ø§Ø²Øª Ù¾ÙˆÙ„ Ø¨Ø¯Ù†.</p>
        <ul>
          <li>Ø¨Ø±Ø¯ Ø®Ø´Ú© â†’ bet Ú©ÙˆÚ†Ú© Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨Ù‡</li>
          <li>Ø¨Ø±Ø¯ Ø®ÛŒØ³ â†’ Ù…Ø­Ø§ÙØ¸Øª Ø¨ÛŒØ´ØªØ± / Ù¾Ù„Ù† Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±</li>
        </ul>
        <div class="note gold">ğŸ¯ Ù‚Ø¨Ù„ Ø´Ø±Ø·: Ø§Ú¯Ø± Ú©Ø§Ù„ Ø´Ø¯ØŒ ØªØ±Ù† Ú†ÛŒØŸ</div>
      `},

      { id:"postflop-bluff", icon:"ğŸƒ", title:"Ù¾Ø³Øªâ€ŒÙÙ„Ø§Ù¾: Bluff", sub:"Ø¨Ù„ÙˆÙ ÙˆØ§Ù‚Ø¹ÛŒ Ù†Ù‡ Ø´Ø§Ù†Ø³ÛŒ", body:`
        <h3>Ø¨Ù„ÙˆÙ Ø®ÙˆØ¨ Û³ Ø´Ø±Ø·</h3>
        <ul>
          <li>Ø¯Ø§Ø³ØªØ§Ù† Ù…Ù†Ø·Ù‚ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ (Ø±Ù†Ø¬Øª Ø¨Ø§ Ø¨Ø±Ø¯ Ø¬ÙˆØ± Ø¯Ø±Ø¨ÛŒØ§Ø¯)</li>
          <li>Ø­Ø±ÛŒÙ ØªÙˆØ§Ù† ÙÙˆÙ„Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡</li>
          <li>Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ø¨Ù‡ Ù†ÙØ¹ ØªÙˆ Ø¨Ø§Ø´Ù† (barrel plan)</li>
        </ul>
        <div class="note warn">ğŸš« Ø¢Ù„â€ŒØ§ÛŒÙ† Ø¹ØµØ¨ÛŒ = ØªÛŒÙ„Øª = Ø¨Ø§Ø®Øª Ø³Ø±ÛŒØ¹</div>
      `},

      { id:"math-odds", icon:"ğŸ§®", title:"Odds/Outs Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡", sub:"Ù‚Ø§Ù†ÙˆÙ† Û² Ùˆ Û´ + Ù¾Ø§Øª Ø¢Ø¯Ø²", body:`
        <h3>Ù‚Ø§Ù†ÙˆÙ† Û² Ùˆ Û´</h3>
        <ul>
          <li>Ø¨Ø¹Ø¯ ÙÙ„Ø§Ù¾: Outs Ã— 4 â‰ˆ Ø¯Ø±ØµØ¯ ØªÚ©Ù…ÛŒÙ„</li>
          <li>Ø¨Ø¹Ø¯ ØªØ±Ù†: Outs Ã— 2 â‰ˆ Ø¯Ø±ØµØ¯ ØªÚ©Ù…ÛŒÙ„</li>
        </ul>
        <h3>Pot Odds</h3>
        <p>Ø§Ú¯Ø± Ø´Ø§Ù†Ø³ Ø¨Ø±Ø¯Øª Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø´Ø§Ù†Ø³ Ù„Ø§Ø²Ù… Ø¨ÙˆØ¯ â†’ Ú©Ø§Ù„ Ù…Ù†Ø·Ù‚ÛŒÙ‡.</p>
        <div class="note ok">âœ… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ Ø§ÛŒÙ† ØªØµÙ…ÛŒÙ…â€ŒÙ‡Ø§ Ù¾ÙˆÙ„ Ø¯Ø±Ù…ÛŒØ§Ø±Ù†.</div>
      `},

      { id:"glossary", icon:"ğŸ“š", title:"ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ Ú©Ø§Ù…Ù„", sub:"Ù‡Ø± Ø§ØµØ·Ù„Ø§Ø­ÛŒ Ø¯ÛŒØ¯ÛŒ Ø§ÛŒÙ†Ø¬Ø§Ø³Øª", body:`
        <h3>Ú©Ù„Ù…Ø§Øª Ù…Ù‡Ù…</h3>
        <ul>
          <li><b>Range:</b> Ø¯Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù…Ú©Ù† Ø­Ø±ÛŒÙ</li>
          <li><b>Equity:</b> Ø´Ø§Ù†Ø³ Ø¨Ø±Ø¯</li>
          <li><b>EV:</b> Ø³ÙˆØ¯ Ø¨Ù„Ù†Ø¯Ù…Ø¯Øª</li>
          <li><b>Fold Equity:</b> Ø´Ø§Ù†Ø³ ÙÙˆÙ„Ø¯ Ø­Ø±ÛŒÙ</li>
          <li><b>C-bet:</b> Ø´Ø±Ø· Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² Ø±ÛŒØ² Ù¾Ø±ÛŒÙÙ„Ø§Ù¾</li>
          <li><b>Blocker:</b> Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø¹Ø¶ÛŒ Ø¯Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø±ÛŒÙ Ø±Ùˆ Ú©Ù… Ù…ÛŒâ€ŒÚ©Ù†Ù†</li>
        </ul>
        <div class="note ok">âœ… Ø§Ú¯Ø± Ø±Ù†Ø¬ Ø±Ùˆ Ø¨ÙÙ‡Ù…ÛŒØŒ Ù†ØµÙ Ø±Ø§Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø´Ø¯Ù†Ù‡.</div>
      `},

      { id:"bankroll", icon:"ğŸ’°", title:"Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø±Ù…Ø§ÛŒÙ‡", sub:"Ú†Ø·ÙˆØ±ÛŒ ÙˆØ±Ø´Ú©Ø³Øª Ù†Ø´ÛŒÙ…ØŸ", body:`
        <h3>Ù‚Ø§Ù†ÙˆÙ† Ø³Ø§Ø¯Ù‡</h3>
        <ul>
          <li>Ù‡Ø±Ú¯Ø² Ø¨Ø§ Ú©Ù„ Ù¾ÙˆÙ„Øª Ø¨Ø§Ø²ÛŒ Ù†Ú©Ù†.</li>
          <li>Ø¨Ø±Ø§ÛŒ Ø³Ø·Ø­ÛŒ Ø¨Ø§Ø²ÛŒ Ú©Ù† Ú©Ù‡ Ø¨Ø§Ø®Øª Ù¾Ø´Øª Ø³Ø± Ù‡Ù… Ù†Ø§Ø¨ÙˆØ¯Øª Ù†Ú©Ù†Ù‡.</li>
          <li>Ø§Ú¯Ø± tilt Ø´Ø¯ÛŒØŒ Ø§Ø³ØªØ§Ù¾ Ú©Ù†.</li>
        </ul>
        <div class="note gold">ğŸ¯ Ø¢Ø¯Ù… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø§ÙˆÙ„ â€œØ²Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒÙ…ÙˆÙ†Ù‡â€ØŒ Ø¨Ø¹Ø¯ Ù¾ÙˆÙ„ Ø¯Ø±Ù…ÛŒØ§Ø±Ù‡.</div>
      `},

      { id:"tilt", icon:"ğŸ˜¤", title:"Ú©Ù†ØªØ±Ù„ ØªÛŒÙ„Øª", sub:"ÙˆÙ‚ØªÛŒ Ø¹ØµØ¨ÛŒ Ù…ÛŒØ´ÛŒ Ú†ÛŒ Ú©Ø§Ø± Ú©Ù†ÛŒØŸ", body:`
        <h3>Û³ Ø­Ø±Ú©Øª ÙÙˆØ±ÛŒ Ø¶Ø¯ ØªÛŒÙ„Øª</h3>
        <ul>
          <li>Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ Break</li>
          <li>Ú©Ø§Ù‡Ø´ ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø³Øªâ€ŒÙ‡Ø§ (ØªÙ†Ú¯â€ŒØªØ± Ø¨Ø§Ø²ÛŒ Ú©Ù†)</li>
          <li>Ø§Ú¯Ø± Û² Ø¨Ø§Ø± Ù¾Ø´Øª Ø³Ø±Ù‡Ù… Ø§Ø´ØªØ¨Ø§Ù‡ Ú©Ø±Ø¯ÛŒ â†’ Ø®Ø±ÙˆØ¬</li>
        </ul>
        <div class="note warn">ğŸš« ØªÛŒÙ„Øª Ø¯Ø´Ù…Ù† Ø´Ù…Ø§Ø±Ù‡ Û± Ù¾ÙˆÙ„ØªÙ‡.</div>
      `},
    ];

    const byId = Object.fromEntries(PAGES.map(p=>[p.id,p]));
    const order = PAGES.map(p=>p.id);

    // Progress
    function getProg(){ return load(LS.prog, {}); }
    function setProg(p){ save(LS.prog, p); }
    function isDone(id){ const p=getProg(); return !!p[id]; }

    function updateProgressUI(){
      const p=getProg();
      const total=order.length;
      const done=order.filter(id=>p[id]).length;
      $("#totalCount").textContent=total;
      $("#doneCount").textContent=done;
      const pct=Math.round((done/total)*100);
      $("#pct").textContent=pct+"%";
      $("#bar").style.width=pct+"%";
      $$("[data-status]").forEach(el=>{
        const id=el.dataset.status;
        const ok=!!p[id];
        el.textContent = ok ? "ØªÛŒÚ©" : "Ø¯Ø±Ø­Ø§Ù„";
        el.classList.toggle("ok", ok);
        el.classList.toggle("todo", !ok);
      });
    }

    function markDone(id){
      const p=getProg();
      p[id]=true;
      setProg(p);
      updateProgressUI();
      toast("ØªÛŒÚ© Ø´Ø¯ âœ…");
    }

    function resetAll(){
      localStorage.removeItem(LS.prog);
      updateProgressUI();
      toast("Ø±ÛŒØ³Øª Ø´Ø¯ ğŸ§¼");
    }

    // Overlay page
    const pageEl = $("#page");
    const pageH = $("#pageH");
    const pageSub = $("#pageSub");
    const pageBody = $("#pageBody");
    let currentId = "start";

    function openPage(id){
      const pg = byId[id] || byId["start"];
      currentId = pg.id;

      pageH.textContent = `${pg.icon}  ${pg.title}`;
      pageSub.textContent = pg.sub || "";
      pageBody.innerHTML = pg.body || "<p>Ø¯Ø± Ø­Ø§Ù„ ØªÚ©Ù…ÛŒÙ„â€¦</p>";

      // Search highlight inside page
      applySearch();

      // show overlay
      pageEl.classList.add("show");

      // ALWAYS start from top (Ø­Ù„ Ù…Ø´Ú©Ù„ ØªÙˆ)
      pageEl.scrollTo({ top: 0, behavior: "instant" });

      // update hash like real website
      if(location.hash !== "#"+pg.id) history.pushState({id:pg.id}, "", "#"+pg.id);

      // update mark buttons
      updateMarkButtons();

      toast("ØµÙØ­Ù‡ Ø¨Ø§Ø² Ø´Ø¯ âœ…");
    }

    function closePage(){
      pageEl.classList.remove("show");
      toast("Ø¨Ø±Ú¯Ø´ØªÛŒ âœ…");
      // keep hash clean
      history.pushState({}, "", location.pathname + location.search);
    }

    function updateMarkButtons(){
      const done = isDone(currentId);
      $("#markInsideBtn").textContent = done ? "âœ… ØªÛŒÚ© Ø´Ø¯Ù‡" : "âœ… Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…";
      $("#markInsideBtn").disabled = done;
      $("#markInsideBtn").style.opacity = done ? .6 : 1;

      $("#markBtn").textContent = done ? "âœ… ØªÛŒÚ© Ø´Ø¯Ù‡" : "âœ… Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ…";
      $("#markBtn").disabled = done;
      $("#markBtn").style.opacity = done ? .6 : 1;
    }

    function nextPrev(delta){
      const idx = order.indexOf(currentId);
      const n = Math.max(0, Math.min(order.length-1, idx + delta));
      openPage(order[n]);
    }

    // Search highlight in overlay content
    function stripMarks(el){
      if(!el) return;
      $$("mark", el).forEach(m=>m.replaceWith(document.createTextNode(m.textContent)));
    }

    function highlight(el, q){
      if(!q.trim()) return 0;
      const query=q.trim().toLowerCase();
      let count=0;
      const walker=document.createTreeWalker(el, NodeFilter.SHOW_TEXT, {
        acceptNode(node){
          if(!node.nodeValue) return NodeFilter.FILTER_REJECT;
          const p=node.parentElement?.tagName;
          if(["SCRIPT","STYLE","MARK","INPUT","TEXTAREA","BUTTON"].includes(p)) return NodeFilter.FILTER_REJECT;
          return node.nodeValue.toLowerCase().includes(query) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
        }
      });
      const nodes=[];
      while(walker.nextNode()) nodes.push(walker.currentNode);

      nodes.forEach(node=>{
        const txt=node.nodeValue;
        const low=txt.toLowerCase();
        let idx=low.indexOf(query);
        if(idx<0) return;
        const frag=document.createDocumentFragment();
        let last=0;
        while(idx!==-1){
          frag.appendChild(document.createTextNode(txt.slice(last, idx)));
          const m=document.createElement("mark");
          m.textContent=txt.slice(idx, idx+query.length);
          frag.appendChild(m);
          count++;
          last=idx+query.length;
          idx=low.indexOf(query, last);
        }
        frag.appendChild(document.createTextNode(txt.slice(last)));
        node.parentNode.replaceChild(frag, node);
      });
      return count;
    }

    function applySearch(){
      const q = $("#q").value || "";
      stripMarks(pageBody);
      if(!q.trim()) return;
      const hits = highlight(pageBody, q);
      if(hits) toast(`Ù¾ÛŒØ¯Ø§ Ø´Ø¯: ${hits}`);
    }

    // Events
    $$("[data-page]").forEach(btn=>{
      btn.addEventListener("click", ()=>openPage(btn.dataset.page));
    });

    $("#backBtn").addEventListener("click", closePage);
    $("#resetBtn").addEventListener("click", resetAll);
    $("#resetAllBtn").addEventListener("click", resetAll);

    $("#markInsideBtn").addEventListener("click", ()=>{
      markDone(currentId);
      updateMarkButtons();
    });
    $("#markBtn").addEventListener("click", ()=>{
      markDone(currentId);
      updateMarkButtons();
    });

    $("#nextBtn").addEventListener("click", ()=>nextPrev(+1));
    $("#prevBtn").addEventListener("click", ()=>nextPrev(-1));

    $("#q").addEventListener("input", ()=>{
      if(pageEl.classList.contains("show")) applySearch();
    });

    $("#copyLinkBtn").addEventListener("click", async ()=>{
      const url = location.href;
      try{
        await navigator.clipboard.writeText(url);
        toast("Ù„ÛŒÙ†Ú© Ú©Ù¾ÛŒ Ø´Ø¯ âœ…");
      }catch(e){
        toast("Ú©Ù¾ÛŒ Ù†Ø´Ø¯ (Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ø±ÙˆØ±Ú¯Ø±) âŒ");
      }
    });

    $("#planBtn").addEventListener("click", ()=>{
      toast("Ù¾Ù„Ù† Û· Ø±ÙˆØ²Ù‡: Ø±ÙˆØ²ÛŒ Û² ØµÙØ­Ù‡ + ØªÙ…Ø±ÛŒÙ† âœ…");
      openPage("start");
    });

    // Tabs
    $$(".tab").forEach(t=>{
      t.addEventListener("click", ()=>{
        $$(".tab").forEach(x=>x.classList.remove("on"));
        t.classList.add("on");
        const mode = t.dataset.tab;
        if(mode==="home"){ toast("Ø®Ø§Ù†Ù‡ ğŸ "); closePage(); window.scrollTo({top:0, behavior:"smooth"}); }
        if(mode==="learn"){ openPage("rules"); }
        if(mode==="pro"){ openPage("bankroll"); }
      });
    });

    // Handle back button / hash navigation
    window.addEventListener("popstate", ()=>{
      const id = (location.hash||"").replace("#","");
      if(id && byId[id]) openPage(id);
      else pageEl.classList.remove("show");
    });

    // Init
    updateProgressUI();
    $("#totalCount").textContent = order.length;

    // If opened with a hash, open it
    const initId = (location.hash||"").replace("#","");
    if(initId && byId[initId]) openPage(initId);
  </script>

  <div class="toast" id="toast"></div>
</body>
</html>
